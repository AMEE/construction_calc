  [4;36;1mSQL (10.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (12.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (476.2ms)[0m   [0;1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (344.0ms)[0m   [0mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (188.6ms)[0m   [0mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (147.1ms)[0m   [0;1mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116115931')[0m
Migrating to CreatePasswords (20091116125336)
  [4;36;1mSQL (145.9ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (83.5ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (16.1ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (14.1ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (19.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (9.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (28.3ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (24.9ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (123.7ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (15.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (100.7ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (162.4ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (105.8ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (152.9ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (111.5ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (87.7ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (82.1ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (181.3ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (80.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (73.8ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (80.9ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (26.7ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (111.4ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (133.3ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (185.7ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (124.8ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (92.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (22.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (89.4ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (170.7ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (93.7ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (117.4ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (92.4ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (17.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (42.4ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (39.7ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (131.6ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (115.7ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (127.9ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (173.2ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (49.7ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (54.9ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (129.8ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (91.6ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (25.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (126.4ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (121.3ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (8.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (110.2ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (91.9ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (256.0ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (100.7ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (96.6ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (91.4ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (13.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (35.0ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (45.8ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (150.7ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (91.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (85.5ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (92.2ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (31.1ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (35.0ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (149.8ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (92.1ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (114.8ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (106.6ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (37.9ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (81.1ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (19.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (229.4ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (91.2ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (86.1ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (91.7ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (33.4ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (184.1ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (92.3ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (96.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (92.8ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (14.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (80.1ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (88.8ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (91.7ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (111.1ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (122.3ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (34.6ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (89.1ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (216.2ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (92.2ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (96.4ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (92.2ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (44.4ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (26.8ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (119.8ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (92.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (86.5ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (91.6ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (37.3ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (55.8ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (140.8ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (103.5ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (84.9ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (92.3ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (45.1ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (41.6ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (162.3ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (93.5ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (85.5ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (91.1ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (40.1ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (50.0ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (97.6ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (113.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (85.6ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (82.8ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:44:07) [GET]
Rendering root/index

ActionView::TemplateError (undefined method `logged_in?' for #<ActionView::Base:0x103553710>) on line #1 of app/views/root/index.html.erb:
1: <% if logged_in? %>
2:     Logged In!!
3: <% else %>
4:     Not logged in :(

    app/views/root/index.html.erb:1

Rendered rescues/_trace (76.5ms)
Rendered rescues/_request_and_response (2.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:49:37) [GET]
Rendering root/index

ActionView::TemplateError (undefined method `logged_in?' for #<ActionView::Base:0x10355d3a0>) on line #1 of app/views/root/index.html.erb:
1: <% if logged_in? %>
2:     Logged In!!
3: <% else %>
4:     Not logged in :(

    app/views/root/index.html.erb:1

Rendered rescues/_trace (83.3ms)
Rendered rescues/_request_and_response (2.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:53:18) [GET]

NoMethodError (undefined method `login_required' for #<RootController:0x10364e3b8>):
  

Rendered rescues/_trace (65.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:53:47) [GET]

NoMethodError (undefined method `login_required' for #<RootController:0x1039af110>):
  

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:55:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-16 14:55:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 140ms (View: 135, DB: 0) | 200 OK [http://localhost/session/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:55:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-16 14:55:41) [GET]

ActionController::RoutingError (No route matches "/sessions/new" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-16 14:55:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/session/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-11-16 14:55:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/application
Rendering users/new
Completed in 35ms (View: 26, DB: 2) | 200 OK [http://localhost/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-11-16 14:56:05) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"George", "email"=>"george.palmer@gmail.com"}}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george') LIMIT 1[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `activated_at`, `crypted_password`, `remember_token_expires_at`, `updated_at`, `deleted_at`, `activation_code`, `remember_token`, `login`, `email`, `state`) VALUES('', 'c5d2f95e1ea3a51f499abf7300dc24bcc5b8f86e', '2009-11-16 14:56:05', NULL, '66971a35b51a01a897f23d5bbc5a76ba3d07dda0', NULL, '2009-11-16 14:56:05', NULL, '616aa696087f654a3b1127dfcf1fa3a24bb76d60', NULL, 'george', 'george.palmer@gmail.com', 'pending')[0m
Sent mail to george.palmer@gmail.com

Return-Path: <noreply@ineedadomainname.com>
Date: Mon, 16 Nov 2009 14:56:05 +0000
From: noreply@ineedadomainname.com
Reply-To: noreply@ineedadomainname.com
To: george.palmer@gmail.com
Subject: Please activate your new account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Your account has been created with username george

Visit this url to activate your account: http://localhost:3000/activate/de761ba9038eee76edfd09a9ae3bd6f3a2e4eace
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com' AND `users`.id <> 1) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 137ms (DB: 4) | 302 Found [http://localhost/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:56:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 9ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#activate (for 127.0.0.1 at 2009-11-16 14:56:26) [GET]
  Parameters: {"action"=>"activate", "activation_code"=>"de761ba9038eee76edfd09a9ae3bd6f3a2e4eace", "controller"=>"users"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`activation_code` = 'de761ba9038eee76edfd09a9ae3bd6f3a2e4eace') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 20ms (DB: 3) | 302 Found [http://localhost/activate/de761ba9038eee76edfd09a9ae3bd6f3a2e4eace]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:56:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-16 14:56:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/session/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-16 14:56:38) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"sessions", "login"=>"george", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
Failed login for 'george' from 127.0.0.1 at Mon Nov 16 14:56:38 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 13ms (View: 5, DB: 1) | 200 OK [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-16 14:57:12) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"sessions", "login"=>"george", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (13.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
Failed login for 'george' from 127.0.0.1 at Mon Nov 16 14:57:12 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 103ms (View: 5, DB: 14) | 200 OK [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#new (for 127.0.0.1 at 2009-11-16 14:57:19) [GET]
  Parameters: {"action"=>"new", "controller"=>"passwords"}
  [4;36;1mPassword Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
Rendering template within layouts/application
Rendering passwords/new
Completed in 28ms (View: 20, DB: 1) | 200 OK [http://localhost/passwords/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#create (for 127.0.0.1 at 2009-11-16 14:57:25) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"passwords", "password"=>"[FILTERED]"}
  [4;36;1mPassword Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'george.palmer@gmail.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mPassword Create (0.3ms)[0m   [0;1mINSERT INTO `passwords` (`expiration_date`, `created_at`, `updated_at`, `user_id`, `reset_code`) VALUES('2009-11-30 14:57:25', '2009-11-16 14:57:25', '2009-11-16 14:57:25', 1, 'cacde0fd49d343ce95f6982955384889345f6847')[0m
Sent mail to george.palmer@gmail.com

Date: Mon, 16 Nov 2009 14:57:25 +0000
From: ADMINEMAIL
To: george.palmer@gmail.com
Subject: [YOURSITE] You have requested to change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

george, you can change your password at this URL:

http://YOURSITE/change_password/cacde0fd49d343ce95f6982955384889345f6847

For your safety this link will be valid for 2 weeks, after which you will need to re-request a password reset
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 204ms (DB: 5) | 302 Found [http://localhost/passwords]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 14:57:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#new (for 127.0.0.1 at 2009-11-16 14:59:46) [GET]
  Parameters: {"action"=>"new", "controller"=>"passwords"}
  [4;36;1mPassword Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
Rendering template within layouts/application
Rendering passwords/new
Completed in 20ms (View: 11, DB: 2) | 200 OK [http://localhost/passwords/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#create (for 127.0.0.1 at 2009-11-16 14:59:50) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"passwords", "password"=>"[FILTERED]"}
  [4;36;1mPassword Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`email` = 'george.palmer@gmail.com') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mPassword Create (0.3ms)[0m   [0;1mINSERT INTO `passwords` (`expiration_date`, `created_at`, `updated_at`, `user_id`, `reset_code`) VALUES('2009-11-30 14:59:50', '2009-11-16 14:59:50', '2009-11-16 14:59:50', 1, '06d4308b9eadc09920d3713e499dc465201623fc')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m

ActionController::RoutingError (change_password_url failed to generate from {:action=>"reset", :controller=>"passwords"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["change_password", :reset_code] - are they all satisfied?):
  (eval):20:in `change_password_url'
  app/models/password_mailer.rb:6:in `forgot_password'
  app/models/password_observer.rb:3:in `after_create'
  /usr/local/lib/ruby/1.8/observer.rb:185:in `notify_observers'
  /usr/local/lib/ruby/1.8/observer.rb:184:in `each'
  /usr/local/lib/ruby/1.8/observer.rb:184:in `notify_observers'
  app/controllers/passwords_controller.rb:16:in `create'
  app/controllers/passwords_controller.rb:15:in `create'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#new (for 127.0.0.1 at 2009-11-16 15:00:53) [GET]
  Parameters: {"action"=>"new", "controller"=>"passwords"}
  [4;35;1mPassword Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
Rendering template within layouts/application
Rendering passwords/new
Completed in 19ms (View: 10, DB: 1) | 200 OK [http://localhost/passwords/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#create (for 127.0.0.1 at 2009-11-16 15:00:55) [POST]
  Parameters: {"commit"=>"Submit", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"passwords", "password"=>"[FILTERED]"}
  [4;35;1mPassword Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`email` = 'george.palmer@gmail.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mPassword Create (0.3ms)[0m   [0mINSERT INTO `passwords` (`expiration_date`, `created_at`, `updated_at`, `user_id`, `reset_code`) VALUES('2009-11-30 15:00:55', '2009-11-16 15:00:55', '2009-11-16 15:00:55', 1, '70312f749727aa2fd6a45220615f0cbe1e719b1f')[0m
Sent mail to george.palmer@gmail.com

Return-Path: <noreply@ineedadomainname.com>
Date: Mon, 16 Nov 2009 15:00:55 +0000
From: noreply@ineedadomainname.com
Reply-To: noreply@ineedadomainname.com
To: george.palmer@gmail.com
Subject: You have requested to change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

george, you can change your password at this URL:

http://localhost:3000/change_password/70312f749727aa2fd6a45220615f0cbe1e719b1f

For your safety this link will be valid for 2 weeks, after which you will need to re-request a password reset
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 57ms (DB: 5) | 302 Found [http://localhost/passwords]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:00:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#reset (for 127.0.0.1 at 2009-11-16 15:01:07) [GET]
  Parameters: {"action"=>"reset", "controller"=>"passwords", "reset_code"=>"70312f749727aa2fd6a45220615f0cbe1e719b1f"}
  [4;35;1mPassword Load (79.6ms)[0m   [0mSELECT * FROM `passwords` WHERE (reset_code = '70312f749727aa2fd6a45220615f0cbe1e719b1f' and expiration_date > '2009-11-16 15:01:07') LIMIT 1[0m
  [4;36;1mPassword Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/application
Rendering passwords/reset
Completed in 193ms (View: 100, DB: 83) | 200 OK [http://localhost/change_password/70312f749727aa2fd6a45220615f0cbe1e719b1f]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PasswordsController#update_after_forgetting (for 127.0.0.1 at 2009-11-16 15:01:17) [POST]
  Parameters: {"commit"=>"Reset password!", "action"=>"update_after_forgetting", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"passwords", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "reset_code"=>"70312f749727aa2fd6a45220615f0cbe1e719b1f"}
  [4;36;1mPassword Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mPassword Load (0.5ms)[0m   [0mSELECT * FROM `passwords` WHERE (`passwords`.`reset_code` = '70312f749727aa2fd6a45220615f0cbe1e719b1f') LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPassword Destroy (0.2ms)[0m   [0mDELETE FROM `passwords` WHERE `id` = 3[0m
Sent mail to george.palmer@gmail.com

Return-Path: <noreply@ineedadomainname.com>
Date: Mon, 16 Nov 2009 15:01:17 +0000
From: noreply@ineedadomainname.com
Reply-To: noreply@ineedadomainname.com
To: george.palmer@gmail.com
Subject: Your password has been reset.
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

george, your password has been reset.
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/login
Completed in 62ms (DB: 5) | 302 Found [http://localhost/update_password]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-16 15:01:18) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 27ms (View: 22, DB: 0) | 200 OK [http://localhost/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-16 15:01:33) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"sessions", "login"=>"george", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
Failed login for 'george' from 127.0.0.1 at Mon Nov 16 15:01:33 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 13ms (View: 5, DB: 1) | 200 OK [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-16 15:01:40) [POST]
  Parameters: {"remember_me"=>"1", "commit"=>"Log in", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"sessions", "login"=>"george", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
Failed login for 'george' from 127.0.0.1 at Mon Nov 16 15:01:40 UTC 2009
Rendering template within layouts/application
Rendering sessions/new
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://localhost/session]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'george' AND `users`.id <> 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer@gmail.com' AND `users`.id <> 1) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2009-11-16 15:04:45', `activated_at` = '2009-11-16 15:04:45', `activation_code` = NULL, `state` = 'active' WHERE `id` = 1[0m
Sent mail to george.palmer@gmail.com

Return-Path: <noreply@ineedadomainname.com>
Date: Mon, 16 Nov 2009 15:04:45 +0000
From: noreply@ineedadomainname.com
Reply-To: noreply@ineedadomainname.com
To: george.palmer@gmail.com
Subject: Your account has been activated!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

george, your account has been activated.  Welcome aboard!

http://localhost:3000/
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-11-16 15:04:54) [GET]
  Parameters: {"action"=>"new", "controller"=>"users"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/application
Rendering users/new
Completed in 65ms (View: 57, DB: 2) | 200 OK [http://localhost/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-11-16 15:05:13) [POST]
  Parameters: {"commit"=>"Sign up", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"users", "user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "login"=>"bob", "email"=>"george.palmer+tester@gmail.com"}}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'bob') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer+tester@gmail.com') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'bob') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer+tester@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `activated_at`, `crypted_password`, `remember_token_expires_at`, `updated_at`, `deleted_at`, `activation_code`, `remember_token`, `login`, `email`, `state`) VALUES('', 'bf0293006fe7f76220d3628e8abd71e55e121d60', '2009-11-16 15:05:13', NULL, '7d94e16f61ec849bbab09377e5b8258732d50f49', NULL, '2009-11-16 15:05:13', NULL, '1b5fa839fbfe6ec0926fe031781e33cd5e0e0a9d', NULL, 'bob', 'george.palmer+tester@gmail.com', 'pending')[0m
Sent mail to george.palmer+tester@gmail.com

Return-Path: <noreply@ineedadomainname.com>
Date: Mon, 16 Nov 2009 15:05:13 +0000
From: noreply@ineedadomainname.com
Reply-To: noreply@ineedadomainname.com
To: george.palmer+tester@gmail.com
Subject: Please activate your new account
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Your account has been created with username bob

Visit this url to activate your account: http://localhost:3000/activate/1b5fa839fbfe6ec0926fe031781e33cd5e0e0a9d
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'bob' AND `users`.id <> 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer+tester@gmail.com' AND `users`.id <> 2) LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 93ms (DB: 6) | 302 Found [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:05:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 18ms (View: 13, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#activate (for 127.0.0.1 at 2009-11-16 15:05:27) [GET]
  Parameters: {"action"=>"activate", "activation_code"=>"1b5fa839fbfe6ec0926fe031781e33cd5e0e0a9d", "controller"=>"users"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`activation_code` = '1b5fa839fbfe6ec0926fe031781e33cd5e0e0a9d') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`login` = BINARY 'bob' AND `users`.id <> 2) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`email` = BINARY 'george.palmer+tester@gmail.com' AND `users`.id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2009-11-16 15:05:27', `activated_at` = '2009-11-16 15:05:27', `activation_code` = NULL, `state` = 'active' WHERE `id` = 2[0m
Sent mail to george.palmer+tester@gmail.com

Return-Path: <noreply@ineedadomainname.com>
Date: Mon, 16 Nov 2009 15:05:28 +0000
From: noreply@ineedadomainname.com
Reply-To: noreply@ineedadomainname.com
To: george.palmer+tester@gmail.com
Subject: Your account has been activated!
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

bob, your account has been activated.  Welcome aboard!

http://localhost:3000/
  [4;35;1mSQL (52.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/login
Completed in 239ms (DB: 55) | 302 Found [http://localhost/activate/1b5fa839fbfe6ec0926fe031781e33cd5e0e0a9d]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-16 15:05:28) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 22ms (View: 17, DB: 0) | 200 OK [http://localhost/login]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-16 15:05:44) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"z8F4WRy9N0RtEujdag6GAr36rm/+baxo5eAKQcQySIw=", "controller"=>"sessions", "login"=>"bob", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'bob') AND (users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 2) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:05:44) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Completed in 12ms (View: 6, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2009-11-16 15:05:48) [GET]
  Parameters: {"action"=>"destroy", "controller"=>"sessions"}
Redirected to http://localhost:3000/
Completed in 81ms (DB: 0) | 302 Found [http://localhost/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:05:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-16 15:05:51) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
Rendering template within layouts/application
Rendering sessions/new
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/session/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-16 15:05:56) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "controller"=>"sessions", "login"=>"george", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 18ms (DB: 2) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:05:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 13ms (View: 6, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:07:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 20ms (View: 14, DB: 2) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-16 15:08:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
Rendering template within layouts/application
Rendering root/index
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 24ms (View: 18, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (10.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (88.6ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (70.9ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (146.9ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (91.5ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (74.3ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (81.3ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (47.6ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (31.9ms)[0m   [0;1mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (151.3ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (81.0ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (73.4ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (81.1ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (33.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (179.7ms)[0m   [0;1mCREATE TABLE `projects` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `client_id` int(11), `name` varchar(255), `number` varchar(255), `value` varchar(255), `floor_area` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (274.3ms)[0m   [0mCREATE INDEX `index_projects_on_client_id` ON `projects` (`client_id`)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091116161600')[0m
Migrating to AddClients (20091116162118)
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (120.3ms)[0m   [0;1mCREATE TABLE `clients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116162118')[0m
Migrating to AddCommutes (20091116162643)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (200.1ms)[0m   [0mCREATE TABLE `commutes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (163.5ms)[0m   [0;1mCREATE INDEX `index_commutes_on_project_id` ON `commutes` (`project_id`)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116162643')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (59.8ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (23.8ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (117.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (33.7ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (24.5ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (122.1ms)[0m   [0;1mDROP DATABASE IF EXISTS `overbury_test`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCREATE DATABASE `overbury_test` DEFAULT CHARACTER SET `utf8`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (129.3ms)[0m   [0;1mCREATE TABLE `clients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (305.5ms)[0m   [0;1mCREATE TABLE `commutes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (191.4ms)[0m   [0mCREATE INDEX `index_commutes_on_project_id` ON `commutes` (`project_id`)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (96.8ms)[0m   [0mCREATE TABLE `passwords` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `reset_code` varchar(255), `expiration_date` datetime, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (110.9ms)[0m   [0mCREATE TABLE `projects` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `client_id` int(11), `name` varchar(255), `number` varchar(255), `value` varchar(255), `floor_area` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (190.5ms)[0m   [0;1mCREATE INDEX `index_projects_on_client_id` ON `projects` (`client_id`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (175.1ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `login` varchar(40), `name` varchar(100) DEFAULT '', `email` varchar(100), `crypted_password` varchar(40), `salt` varchar(40), `created_at` datetime, `updated_at` datetime, `remember_token` varchar(40), `remember_token_expires_at` datetime, `activation_code` varchar(40), `activated_at` datetime, `state` varchar(255) DEFAULT 'passive', `deleted_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (173.9ms)[0m   [0mCREATE UNIQUE INDEX `index_users_on_login` ON `users` (`login`)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (102.3ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (140.5ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM `schema_migrations`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116162643')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116115931')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116125336')[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO `schema_migrations` (version) VALUES ('20091116161600')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO `schema_migrations` (version) VALUES ('20091116162118')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-16 16:44:03) [GET]

ActionController::RoutingError (No route matches "/projects/1/commutes" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-16 16:44:18) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}

LoadError (Expected /Users/george/work/amee/overbury/app/controllers/commutes_controller.rb to define CommutesController):
  

Rendered rescues/_trace (54.4ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 16:44:52) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (1.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.find):
  app/controllers/application_controller.rb:16:in `find_project'

Rendered rescues/_trace (85.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mClient Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Create (0.3ms)[0m   [0;1mINSERT INTO `clients` (`name`, `created_at`, `updated_at`) VALUES('Overbury', '2009-11-16 16:45:40', '2009-11-16 16:45:40')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Create (0.3ms)[0m   [0mINSERT INTO `projects` (`name`, `number`, `floor_area`, `created_at`, `updated_at`, `client_id`, `value`) VALUES('Moo Offices', '00001', 125, '2009-11-16 16:46:47', '2009-11-16 16:46:47', 1, '250,000')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 16:46:59) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m

NoMethodError (undefined method `find' for #<Client:0x1038fb070>):
  app/controllers/application_controller.rb:16:in `find_project'

Rendered rescues/_trace (65.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 16:47:23) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
Completed in 155ms (View: 20, DB: 4) | 200 OK [http://localhost/projects/1/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 16:47:50) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `new_commute_path' for #<ActionView::Base:0x10385aeb8>) on line #5 of app/views/commutes/index.html.erb:
2:     <%= commute.id %> <%= commute.name %> <%= commute.amee_profile %>
3: <% end %>
4: 
5: <%= link_to("Add Commute", new_commute_path) %>

    app/views/commutes/index.html.erb:5

Rendered rescues/_trace (156.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 16:48:11) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `new_commute_project_path' for #<ActionView::Base:0x10383c9b8>) on line #5 of app/views/commutes/index.html.erb:
2:     <%= commute.id %> <%= commute.name %> <%= commute.amee_profile %>
3: <% end %>
4: 
5: <%= link_to("Add Commute", new_commute_project_path) %>

    app/views/commutes/index.html.erb:5

Rendered rescues/_trace (158.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 16:48:22) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.9ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
Completed in 48ms (View: 10, DB: 4) | 200 OK [http://localhost/projects/1/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 16:48:35) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m

ActionController::UnknownAction (No action responded to new. Actions: index):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (18.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mCommute Columns (28.9ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:00:08) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (undefined method `commutes_path' for #<ActionView::Base:0x103939500>) on line #1 of app/views/commutes/new.html.erb:
1: <% form_for @commute do |f| %>
2:     <%= f.text_field :name %>
3: <% end %>

    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:00:27) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (undefined method `commutes_path' for #<ActionView::Base:0x10392dbd8>) on line #1 of app/views/commutes/new.html.erb:
1: <% form_for @commute, project_commutes_path do |f| %>
2:     <%= f.text_field :name %>
3: <% end %>

    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (80.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:01:29) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 58ms (View: 14, DB: 5) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:01:40) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (undefined method `label_for' for #<ActionView::Base:0x1037625b0>) on line #2 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= label_for :name %> <%= f.text_field :name %>
3: <% end %>

    app/views/commutes/new.html.erb:2
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:02:03) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 57ms (View: 15, DB: 5) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:02:20) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 57ms (View: 16, DB: 5) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:06:27) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (undefined method `distance' for #<Commute:0x1037312f8>) on line #3 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :distance %> <%= f.text_field :distance %> miles
4:     <!-- TODO mode of transport -->
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>

    app/views/commutes/new.html.erb:3
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (186.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-16 17:07:25) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 52ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-16 17:07:40) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"12", "distance"=>"wer"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `distance_before_type_cast' for #<Commute:0x103962bf8>):
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (86.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-16 17:08:05) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"12", "distance"=>"10"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `amee_profile`, `created_at`, `project_id`, `updated_at`) VALUES('My Commute', NULL, '2009-11-16 17:08:05', 1, '2009-11-16 17:08:05')[0m
  [4;36;1mSQL (59.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/1
Completed in 191ms (DB: 64) | 302 Found [http://localhost/projects/1/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#show (for 127.0.0.1 at 2009-11-16 17:08:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}

NameError (uninitialized constant ProjectsController):
  

Rendered rescues/_trace (55.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-16 17:11:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}

NoMethodError (undefined method `before_filter' for ProjectsController:Class):
  app/controllers/projects_controller.rb:3

Rendered rescues/_trace (143.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-16 17:11:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
Completed in 46ms (View: 18, DB: 4) | 200 OK [http://localhost/projects]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-16 17:11:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m

ActionController::UnknownAction (No action responded to show. Actions: index):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-16 17:12:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m

ActiveRecord::RecordNotFound (Couldn't find Project without an ID):
  app/controllers/application_controller.rb:16:in `find_project'
  app/controllers/projects_controller.rb:11:in `show'

Rendered rescues/_trace (63.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-16 17:12:17) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m

ActionView::MissingTemplate (Missing template projects/show.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-16 17:13:29) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined method `commutes_project_path' for #<ActionView::Base:0x103884dd0>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: <%= link_to("Commutes", commutes_project_path(@project)) %>

    app/views/projects/show.html.erb:3

Rendered rescues/_trace (75.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-16 17:13:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 44ms (View: 12, DB: 4) | 200 OK [http://localhost/projects/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-16 17:13:52) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 44ms (View: 6, DB: 5) | 200 OK [http://localhost/projects/1/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 09:26:50) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (24.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 121ms (View: 11, DB: 28) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 09:27:01) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"George's Commute", "visits"=>"10", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

RuntimeError (You must supply connection details - server, username and password are all required!):
  amee (2.0.28) lib/amee/connection.rb:16:in `initialize'
  amee (2.0.28) lib/amee/rails.rb:20:in `new'
  amee (2.0.28) lib/amee/rails.rb:20:in `connect'
  amee (2.0.28) lib/amee/rails.rb:12:in `global'
  amee (2.0.28) lib/amee/rails.rb:5:in `connection'
  amee (2.0.28) lib/amee/rails.rb:69:in `amee_connection'
  amee (2.0.28) lib/amee/rails.rb:51:in `amee_create'
  amee (2.0.28) lib/amee/rails.rb:46:in `save'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (168.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mCommute Load (5.9ms)[0m   [0mSELECT * FROM `commutes` [0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 09:27:37) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"George's Commute", "visits"=>"10", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'George\'s Commute') LIMIT 1[0m
  [4;36;1mCommute Create (0.2ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `amee_profile`, `created_at`, `project_id`, `updated_at`) VALUES('George\'s Commute', 'DD2AA6C07DD6', '2009-11-17 09:27:38', 1, '2009-11-17 09:27:38')[0m
  [4;35;1mSQL (60.6ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 668ms (View: 152, DB: 67) | 200 OK [http://localhost/projects/1/commutes]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 09:30:37) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 66ms (View: 26, DB: 5) | 200 OK [http://localhost/projects/1/commutes]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` LIMIT 1[0m
  [4;36;1mSQL (7.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.4ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 09:30:57) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 123ms (View: 83, DB: 5) | 200 OK [http://localhost/projects/1/commutes]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 10:34:01) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (43.9ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 148ms (View: 35, DB: 48) | 200 OK [http://localhost/projects/1/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 10:34:03) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 54ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 10:34:15) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"5", "distance"=>"10"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mCommute Create (0.2ms)[0m   [0mINSERT INTO `commutes` (`name`, `amee_profile`, `created_at`, `project_id`, `updated_at`) VALUES('My Commute', 'C7EE0FABAA59', '2009-11-17 10:34:16', 1, '2009-11-17 10:34:16')[0m
  [4;36;1mSQL (53.4ms)[0m   [0;1mCOMMIT[0m

Timeout::Error (execution expired):
  /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
  /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
  /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
  /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
  /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
  amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
  amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:67:in `get'
  amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
  app/models/commute.rb:21:in `amee_save'
  amee (2.0.28) lib/amee/rails.rb:46:in `save'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (72.9ms)
Rendered rescues/_request_and_response (2.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 10:34:25) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"5", "distance"=>"10"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 332ms (View: 65, DB: 5) | 200 OK [http://localhost/projects/1/commutes]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` ORDER BY projects.id DESC LIMIT 1[0m
  [4;36;1mProject Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mCommute Load (0.6ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 10:47:22) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (34.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 108ms (View: 29, DB: 38) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 10:47:33) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"The commute", "visits"=>"27", "distance"=>"15"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.6ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'The commute') LIMIT 1[0m
  [4;36;1mCommute Create (0.2ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `amee_profile`, `created_at`, `project_id`, `updated_at`) VALUES('The commute', 'A0ACDEA77A2F', '2009-11-17 10:47:33', 1, '2009-11-17 10:47:33')[0m
  [4;35;1mSQL (55.8ms)[0m   [0mCOMMIT[0m

AMEE::NotFound (URL doesn't exist on server.):
  amee (2.0.28) lib/amee/connection.rb:221:in `send_request'
  amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:67:in `get'
  amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
  app/models/commute.rb:18:in `amee_save'
  amee (2.0.28) lib/amee/rails.rb:46:in `save'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (68.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 10:48:04) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"The commute", "visits"=>"27", "distance"=>"15"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (42.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (149.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'The commute') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 635ms (View: 123, DB: 195) | 200 OK [http://localhost/projects/1/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 10:50:04) [GET]
  Parameters: {"project_id"=>"1", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (14.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 1) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 99ms (View: 43, DB: 18) | 200 OK [http://localhost/projects/1/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 10:50:06) [GET]
  Parameters: {"project_id"=>"1", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 132ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/1/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 10:50:22) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"1", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"The last commute", "visits"=>"7", "distance"=>"17"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'The last commute') LIMIT 1[0m
  [4;36;1mCommute Create (0.2ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `amee_profile`, `created_at`, `project_id`, `updated_at`) VALUES('The last commute', '1FC195473429', '2009-11-17 10:50:22', 1, '2009-11-17 10:50:22')[0m
  [4;35;1mSQL (48.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/1
Completed in 753ms (DB: 55) | 302 Found [http://localhost/projects/1/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 10:50:23) [GET]
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 206ms (View: 98, DB: 3) | 200 OK [http://localhost/projects/1]
  [4;36;1mCommute Load (1.2ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mCommute Delete all (54.1ms)[0m   [0mDELETE FROM `commutes` [0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` [0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (45.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddCommutes (20091116162643)
  [4;35;1mSQL (81.8ms)[0m   [0mDROP TABLE `commutes`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091116162643'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (106.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (19.5ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (16.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddClients (20091116162118)
  [4;35;1mSQL (1.5ms)[0m   [0mDROP TABLE `clients`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091116162118'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (2.3ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddProjects (20091116161600)
  [4;35;1mSQL (15.2ms)[0m   [0mDROP TABLE `projects`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091116161600'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (2.3ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (104.2ms)[0m   [0;1mCREATE TABLE `projects` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `client_id` int(11), `name` varchar(255), `number` varchar(255), `value` varchar(255), `floor_area` int(11), `amee_profile` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (134.2ms)[0m   [0mCREATE INDEX `index_projects_on_client_id` ON `projects` (`client_id`)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091116161600')[0m
Migrating to AddClients (20091116162118)
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (100.3ms)[0m   [0;1mCREATE TABLE `clients` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116162118')[0m
Migrating to AddCommutes (20091116162643)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (104.7ms)[0m   [0mCREATE TABLE `commutes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (102.9ms)[0m   [0;1mCREATE INDEX `index_commutes_on_project_id` ON `commutes` (`project_id`)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116162643')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mClient Create (0.3ms)[0m   [0;1mINSERT INTO `clients` (`name`, `created_at`, `updated_at`) VALUES('Overbury', '2009-11-17 11:09:39', '2009-11-17 11:09:39')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-17 11:10:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mProject Load (1.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Completed in 989ms (View: 318, DB: 3) | 200 OK [http://localhost/projects]
  [4;36;1mSQL (42.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Create (0.3ms)[0m   [0;1mINSERT INTO `projects` (`name`, `number`, `floor_area`, `created_at`, `updated_at`, `client_id`, `value`) VALUES('Moo offices', '0001', 250000, '2009-11-17 11:11:27', '2009-11-17 11:11:27', 1, '$125,000')[0m
  [4;35;1mSQL (35.9ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-17 11:11:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (50.1ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (23.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
Completed in 314ms (View: 116, DB: 74) | 200 OK [http://localhost/projects]
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mProject Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mProject Delete all (0.7ms)[0m   [0mDELETE FROM `projects` WHERE (`id` IN (1)) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (152.1ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Create (0.3ms)[0m   [0mINSERT INTO `projects` (`name`, `number`, `floor_area`, `amee_profile`, `created_at`, `updated_at`, `client_id`, `value`) VALUES('Moo offices', '0001', 250000, '5951E04373AA', '2009-11-17 11:12:47', '2009-11-17 11:12:47', 1, '$125,000')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-17 11:12:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
Completed in 104ms (View: 26, DB: 4) | 200 OK [http://localhost/projects]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:12:56) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 47ms (View: 5, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 11:12:58) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 61ms (View: 4, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 11:12:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 114ms (View: 73, DB: 4) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 11:13:29) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"3", "distance"=>"10"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (13.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mCommute Create (0.2ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`) VALUES('My Commute', '2009-11-17 11:13:30', 2, '2009-11-17 11:13:30')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m

NameError (undefined local variable or method `amee_connection' for #<Commute:0x10390aea8>):
  app/models/commute.rb:17:in `update_amee'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (94.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 11:13:46) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"3", "distance"=>"10"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (34.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (21.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (87.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (6.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`) VALUES('My Commute', '2009-11-17 11:13:46', 2, '2009-11-17 11:13:46')[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (27.9ms)[0m   [0;1mROLLBACK[0m

TypeError (can't convert String into Integer):
  app/models/commute.rb:19:in `*'
  app/models/commute.rb:19:in `update_amee'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (86.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 11:14:07) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"3", "distance"=>"10"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mCommute Create (0.2ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`) VALUES('My Commute', '2009-11-17 11:14:07', 2, '2009-11-17 11:14:07')[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1375ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:14:09) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 82ms (View: 53, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mCommute Load (10.8ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 11:14:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m

ActionView::TemplateError (undefined method `amee_profile' for #<Commute:0x1035867a0>) on line #2 of app/views/commutes/index.html.erb:
1: <% @commutes.each do |commute| %>
2:     <%= commute.id %> <%= commute.name %> <%= commute.amee_profile %>
3: <% end %>
4: 
5: <%= link_to("Add Commute", new_project_commute_path) %>

    app/views/commutes/index.html.erb:2
    app/views/commutes/index.html.erb:1

Rendered rescues/_trace (84.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 11:14:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (19.0ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 81ms (View: 17, DB: 26) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 11:14:50) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 53ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:14:54) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 36ms (View: 5, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 11:18:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 47ms (View: 6, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 11:18:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 54ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 11:18:26) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"The long commute", "visits"=>"2", "distance"=>"45"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'The long commute') LIMIT 1[0m
  [4;35;1mCommute Create (0.2ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`) VALUES('The long commute', '2009-11-17 11:18:26', 2, '2009-11-17 11:18:26')[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 603ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:18:27) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 46ms (View: 15, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 11:18:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 47ms (View: 6, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:18:36) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 35ms (View: 5, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (20.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:53:32) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (42.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined local variable or method `project' for #<Project:0x103944770>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %>
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    app/models/project.rb:15:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:53:42) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1779ms (View: 1749, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 11:53:53) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 324ms (View: 294, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 11:54:06) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 145ms (View: 6, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.4ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 3[0m
  [4;36;1mSQL (34.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 4[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:09:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 333ms (View: 303, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:11:22) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 132ms (View: 101, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 12:11:26) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m

SyntaxError (/Users/george/work/amee/overbury/app/models/commute.rb:4: syntax error, unexpected tASSOC, expecting '}'
    :bus => "/transport/bus/generic",
           ^
/Users/george/work/amee/overbury/app/models/commute.rb:4: syntax error, unexpected ',', expecting '}'):
  app/controllers/commutes_controller.rb:7:in `index'

Rendered rescues/_trace (80.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 12:11:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.8ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 145ms (View: 105, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (30.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddCommutes (20091116162643)
  [4;35;1mSQL (131.2ms)[0m   [0mDROP TABLE `commutes`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091116162643'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (162.2ms)[0m   [0;1mCREATE TABLE `commutes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile_item_id` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (268.8ms)[0m   [0mCREATE INDEX `index_commutes_on_project_id` ON `commutes` (`project_id`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091116162643')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mdescribe `commutes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `commutes`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (4.1ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 12:13:17) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
  [4;36;1mProject Load (2.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (Couldn't load ProfileItem from V2 JSON data. Check that your URL is correct.
{"apiVersion":"2.0","pager":{},"profileCategories":[{"uid":"EF396F0ADC58","name":"GHGP","path":"ghgp"},{"uid":"D4B983F396D9","name":"Occupancy","path":"occupancy"}],"dataCategory":{"uid":"C5103127C18A","dataCategory":{"uid":"3C4705614170","deprecated":false,"name":"Bus","path":"bus"},"deprecated":false,"environment":{"uid":"5F5887BCF726","itemsPerFeed":10,"description":"","name":"AMEE","owner":"","path":"","itemsPerPage":10},"created":"2007-07-27 09:30:44.0","name":"Generic","path":"generic","itemDefinition":{"uid":"BD88D30D1214","environment":{"uid":"5F5887BCF726"},"created":"2007-07-27 09:30:44.0","name":"Bus Generic","drillDown":"type","modified":"2007-07-27 09:30:44.0"},"modified":"2007-07-27 09:30:44.0"},"environment":{"uid":"5F5887BCF726","itemsPerFeed":10,"created":"2007-07-27 09:30:44.0","description":"","name":"AMEE","owner":"","path":"","itemsPerPage":10,"modified":"2007-07-27 09:30:44.0"},"totalAmount":"0","path":"/transport/bus/generic","profileItems":{},"profile":{"uid":"5951E04373AA"}}) on line #3 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :distance %> <%= f.text_field :distance %> km
4:     <!-- TODO mode of transport -->
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>

    amee (2.0.28) lib/amee/profile_item.rb:93:in `from_v2_json'
    amee (2.0.28) lib/amee/profile_item.rb:196:in `parse'
    amee (2.0.28) lib/amee/profile_item.rb:232:in `get'
    app/models/commute.rb:25:in `distance'
    app/views/commutes/new.html.erb:3
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (182.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 12:13:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 53ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 12:13:47) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"5", "distance"=>"7"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mCommute Create (0.9ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-17 12:13:47', 2, '2009-11-17 12:13:47', NULL)[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 587ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:13:48) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 174ms (View: 142, DB: 5) | 200 OK [http://localhost/projects/2]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.4ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:17:02) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 213ms (View: 104, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 12:17:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 42ms (View: 4, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 12:17:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 132ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 12:17:14) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "visits"=>"12", "distance"=>"8"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-17 12:17:16', 2, '2009-11-17 12:17:16', NULL)[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2030ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:17:16) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 257ms (View: 226, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mCommute Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:25:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (30.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 456ms (View: 393, DB: 33) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 12:25:52) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 45ms (View: 6, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 12:26:34) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 185ms (View: 155, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:26:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (19.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 65ms (View: 7, DB: 23) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:26:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 57ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:26:47) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Another commute", "visits"=>"12", "distance"=>"120"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Another commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Another commute', '2009-11-17 13:26:51', 2, '2009-11-17 13:26:51', NULL)[0m
  [4;36;1mSQL (32.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 3965ms (DB: 38) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:26:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 273ms (View: 243, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:27:28) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (11.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (8.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (3.8ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (7.0ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 275ms (View: 8, DB: 32) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:27:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 53ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:27:46) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My bus ride to work", "visits"=>"6", "distance"=>"31"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My bus ride to work') LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My bus ride to work', '2009-11-17 13:27:48', 2, '2009-11-17 13:27:48', '662228489F63')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2407ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:27:49) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 358ms (View: 327, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 2[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 3[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.1ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 4[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:30:43) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 239ms (View: 208, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:30:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 42ms (View: 3, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:30:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 54ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:30:56) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Test commute", "visits"=>"3", "distance"=>"18"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Test commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (1.8ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Test commute', '2009-11-17 13:30:58', 2, '2009-11-17 13:30:58', 'D9278CE76D94')[0m
  [4;36;1mSQL (36.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1894ms (DB: 44) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:30:58) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (62.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (21.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 250ms (View: 137, DB: 84) | 200 OK [http://localhost/projects/2]
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:32:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Completed in 46ms (View: 7, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:33:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (1.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m

ActionView::TemplateError (project_commute_url failed to generate from {:action=>"show", :project_id=>#<Commute id: 5, project_id: 2, name: "Test commute", amee_profile_item_id: "D9278CE76D94", created_at: "2009-11-17 13:30:58", updated_at: "2009-11-17 13:30:58">, :controller=>"commutes"}, expected: {:action=>"show", :controller=>"commutes"}, diff: {:project_id=>#<Commute id: 5, project_id: 2, name: "Test commute", amee_profile_item_id: "D9278CE76D94", created_at: "2009-11-17 13:30:58", updated_at: "2009-11-17 13:30:58">}) on line #2 of app/views/commutes/index.html.erb:
1: <% @commutes.each do |commute| %>
2:     <%= commute.id %> <%= link_to(commute.name, project_commute_path(commute)) %>
3: <% end %>
4: 
5: <%= link_to("Add Commute", new_project_commute_path) %>

    (eval):16:in `project_commute_path'
    app/views/commutes/index.html.erb:2
    app/views/commutes/index.html.erb:1

Rendered rescues/_trace (93.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:33:27) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 56ms (View: 16, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:33:32) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m

NoMethodError (undefined method `commute' for #<Project:0x10367cce0>):
  app/controllers/commutes_controller.rb:26:in `show'

Rendered rescues/_trace (62.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:33:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 261ms (View: 219, DB: 5) | 200 OK [http://localhost/projects/2/commutes/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:36:06) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (execution expired) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
    /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
    /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
    amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    app/models/commute.rb:28:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (85.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:36:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 324ms (View: 284, DB: 5) | 200 OK [http://localhost/projects/2/commutes/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:39:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 50ms (View: 8, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:39:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 52ms (View: 11, DB: 4) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:40:00) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Home -> Office", "visits"=>"12", "distance"=>"8"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Home -> Office') LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Home -> Office', '2009-11-17 13:40:01', 2, '2009-11-17 13:40:01', 'E1AE553C401F')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 722ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:40:01) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 295ms (View: 264, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:40:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 50ms (View: 10, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:41:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 50ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:41:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 52ms (View: 10, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:41:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"6", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 6 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (execution expired) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
    /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
    /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
    amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    app/models/commute.rb:28:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (164.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:41:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"6", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 6 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (execution expired) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
    /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
    /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
    amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    app/models/commute.rb:28:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (174.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:41:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"6", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 6 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (execution expired) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
    /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
    /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
    amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    app/models/commute.rb:28:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (177.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:41:52) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"6", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 6 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 7204ms (View: 7163, DB: 5) | 200 OK [http://localhost/projects/2/commutes/6]
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 5[0m
  [4;35;1mSQL (54.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 6[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:43:17) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 60ms (View: 20, DB: 4) | 200 OK [http://localhost/projects/2/commutes/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:43:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 54ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:43:32) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"First commute", "visits"=>"3", "distance"=>"9"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'First commute') LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('First commute', '2009-11-17 13:43:33', 2, '2009-11-17 13:43:33', '2F9369A1278A')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 546ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:43:33) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 188ms (View: 159, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:43:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 49ms (View: 9, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:43:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"7", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 7 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 305ms (View: 261, DB: 6) | 200 OK [http://localhost/projects/2/commutes/7]
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:44:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 55ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:45:03) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Second Commute", "visits"=>"2", "distance"=>"9"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Second Commute') LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Second Commute', '2009-11-17 13:45:06', 2, '2009-11-17 13:45:06', '373C5F6685D2')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2318ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:45:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 219ms (View: 189, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:45:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 50ms (View: 10, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:45:10) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"8", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 8 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 346ms (View: 303, DB: 5) | 200 OK [http://localhost/projects/2/commutes/8]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 7[0m
  [4;35;1mSQL (32.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 8[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:52:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (35.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 77ms (View: 4, DB: 38) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:53:11) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 52ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:53:47) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Home -> Office", "visits"=>"3", "distance"=>"9"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Home -> Office') LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Home -> Office', '2009-11-17 13:53:49', 2, '2009-11-17 13:53:49', 'E20053B7969D')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1676ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:53:49) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 209ms (View: 179, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:53:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 49ms (View: 8, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:53:52) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"9", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (1.0ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 9 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 422ms (View: 291, DB: 9) | 200 OK [http://localhost/projects/2/commutes/9]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:54:49) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (7.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (14.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (20.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (5.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 97ms (View: 10, DB: 47) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:55:00) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Home -> Gym", "visits"=>"79", "distance"=>"1"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Home -> Gym') LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Home -> Gym', '2009-11-17 13:55:01', 2, '2009-11-17 13:55:01', 'ADCF8D492CA7')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 627ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:55:01) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 196ms (View: 167, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:56:32) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 52ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 13:56:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 57ms (View: 15, DB: 4) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 13:56:44) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Into work", "visits"=>"6", "distance"=>"12"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Into work') LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Into work', '2009-11-17 13:56:46', 2, '2009-11-17 13:56:46', 'B67F123DEB6F')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2481ms (DB: 9) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:56:47) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 222ms (View: 193, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 13:56:49) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 55ms (View: 14, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 13:56:50) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"11", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 11 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 44ms (View: 3, DB: 5) | 200 OK [http://localhost/projects/2/commutes/11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 13:57:40) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 380ms (View: 347, DB: 6) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Destroy (0.9ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 9[0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.4ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 10[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 11[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:32:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (20.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 98ms (View: 4, DB: 23) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:33:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 44ms (View: 3, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 14:33:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 52ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 14:33:58) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My commute", "visits"=>"12", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (1.0ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My commute', '2009-11-17 14:34:01', 2, '2009-11-17 14:34:01', 'B5D4033ED3B1')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2458ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 14:34:01) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 332ms (View: 302, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:34:28) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 49ms (View: 8, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 14:34:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"12", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 12 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 943ms (View: 901, DB: 5) | 200 OK [http://localhost/projects/2/commutes/12]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 14:36:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"12", "controller"=>"commutes"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 12 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 600ms (View: 556, DB: 6) | 200 OK [http://localhost/projects/2/commutes/12]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:36:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
Completed in 81ms (View: 9, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:36:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
Completed in 42ms (View: 3, DB: 3) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mCommute Load (1.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:37:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 52ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:38:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.7ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.3ms)
Completed in 67ms (View: 25, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:38:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
Completed in 55ms (View: 16, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 14:46:32) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.6ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
Completed in 52ms (View: 9, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 15:08:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 53ms (View: 11, DB: 6) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 15:11:02) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
ERROR: compiling _run_erb_app47views47commutes47new46html46erb RAISED compile error
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:4: syntax error, unexpected tIDENTIFIER, expecting ']'
...Commute::TYPE.map {|i| [i[0] i[0]]} ).to_s); @output_buffer....
                              ^
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:4: syntax error, unexpected ']', expecting '}'
...ute::TYPE.map {|i| [i[0] i[0]]} ).to_s); @output_buffer.conc...
                              ^
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:7: syntax error, unexpected kEND, expecting '}'
;  end ; @output_buffer
      ^
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:10: syntax error, unexpected kEND, expecting '}'
Function body:           def _run_erb_app47views47commutes47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_for @commute, :url => project_commutes_path do |f| ; @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :name ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :distance ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.text_field :distance ).to_s); @output_buffer.concat " km\n    "
; @output_buffer.concat(( f.label :commute_type ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.select :commute_type, Commute::TYPE.map {|i| [i[0] i[0]]} ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :visits ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.text_field :visits ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( submit_tag "Create Commute" ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/george/work/amee/overbury/app/views/commutes/new.html.erb:10:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:4: syntax error, unexpected tIDENTIFIER, expecting ']'
...Commute::TYPE.map {|i| [i[0] i[0]]} ).to_s); @output_buffer....
                              ^
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:4: syntax error, unexpected ']', expecting '}'
...ute::TYPE.map {|i| [i[0] i[0]]} ).to_s); @output_buffer.conc...
                              ^
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:7: syntax error, unexpected kEND, expecting '}'
;  end ; @output_buffer
      ^
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:10: syntax error, unexpected kEND, expecting '}') on line #4 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :distance %> <%= f.text_field :distance %> km
4:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[0] i[0]]} %>
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>
7: <% end %>

    app/views/commutes/new.html.erb:10:in `compile!'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 15:13:24) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (undefined method `commute_type' for #<Commute:0x1038cf358>) on line #4 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :distance %> <%= f.text_field :distance %> km
4:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[0].to_s.capitalize, i[0].to_s]} %>
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>
7: <% end %>

    app/views/commutes/new.html.erb:4
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (85.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 15:13:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 155ms (View: 12, DB: 7) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:11:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (40.8ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 237ms (View: 19, DB: 44) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:39:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (84.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 256ms (View: 37, DB: 88) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:41:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 60ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:41:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 154ms (View: 12, DB: 4) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.3ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 12[0m
  [4;35;1mSQL (37.7ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 16:42:56) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"Bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.path):
  app/models/commute.rb:22:in `amee_profile_category_path'
  app/models/commute.rb:46:in `update_amee'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (84.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:44:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 70ms (View: 19, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:44:25) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 69ms (View: 20, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 16:44:40) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

AMEE::NotFound (URL doesn't exist on server.):
  amee (2.0.28) lib/amee/connection.rb:221:in `send_request'
  amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:67:in `get'
  amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
  app/models/commute.rb:45:in `update_amee'
  app/controllers/commutes_controller.rb:16:in `create'

Rendered rescues/_trace (89.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 16:45:17) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-17 16:45:17', 2, '2009-11-17 16:45:17', NULL)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 415ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 16:45:17) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 178ms (View: 149, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 16:45:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.1ms)
Completed in 56ms (View: 9, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-17 16:45:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"13", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 13 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 51ms (View: 3, DB: 6) | 200 OK [http://localhost/projects/2/commutes/13]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.4ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 13[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 16:46:45) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 48ms (View: 4, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:46:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 59ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 16:46:55) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mProject Load (2.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-17 16:46:55', 2, '2009-11-17 16:46:55', NULL)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 395ms (DB: 9) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 16:46:55) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 130ms (View: 100, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 14[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 16:47:47) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.6ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 50ms (View: 4, DB: 4) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:47:49) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 60ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 16:48:03) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (2.9ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-17 16:48:03', 2, '2009-11-17 16:48:03', '8E8EE060D862')[0m
  [4;36;1mSQL (37.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 762ms (DB: 46) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 16:48:03) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 172ms (View: 142, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-17 16:48:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
Completed in 147ms (View: 10, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-17 16:48:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 60ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-17 16:48:58) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My drive home", "commute_type"=>"car", "visits"=>"2", "distance"=>"125"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My drive home') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My drive home', '2009-11-17 16:48:59', 2, '2009-11-17 16:48:59', 'B01FEF8E2F23')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 852ms (DB: 7) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-17 16:48:59) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 167ms (View: 137, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (54.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (135.4ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Columns (110.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Destroy (138.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 15[0m
  [4;35;1mSQL (98.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (24.8ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 16[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:40:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (12.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (68.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 1041ms (View: 35, DB: 85) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 09:40:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (27.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 109ms (View: 12, DB: 31) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 09:41:04) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (57.9ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (21.7ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-18 09:41:04', 2, '2009-11-18 09:41:04', '06C576EBC20C')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 898ms (DB: 85) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:41:05) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (21.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 240ms (View: 186, DB: 24) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:41:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (1.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (31.0ms)
Completed in 179ms (View: 37, DB: 7) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 09:41:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"17", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (46.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 17 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 373ms (View: 256, DB: 53) | 200 OK [http://localhost/projects/2/commutes/17]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 09:41:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 64ms (View: 13, DB: 6) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 09:41:48) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Long Commute", "commute_type"=>"car", "visits"=>"2", "distance"=>"27"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Long Commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Long Commute', '2009-11-18 09:41:49', 2, '2009-11-18 09:41:49', '85C9FA902C17')[0m
  [4;36;1mSQL (112.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1093ms (DB: 118) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:41:50) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 167ms (View: 136, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:41:52) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 58ms (View: 11, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 09:41:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"18", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.6ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 18 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (URL doesn't exist on server.) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    amee (2.0.28) lib/amee/connection.rb:221:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    app/models/commute.rb:85:in `amee_profile_item'
    app/models/commute.rb:77:in `amee_profile_item_field'
    app/models/commute.rb:30:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (104.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:42:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (43.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
Completed in 198ms (View: 13, DB: 47) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 09:42:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"18", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 18 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (URL doesn't exist on server.) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    amee (2.0.28) lib/amee/connection.rb:221:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    app/models/commute.rb:85:in `amee_profile_item'
    app/models/commute.rb:77:in `amee_profile_item_field'
    app/models/commute.rb:30:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (178.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 09:44:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"18", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 18 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.distance %> <%= @commute.visits %>

    app/models/commute.rb:73:in `commute_type_category'
    app/models/commute.rb:22:in `commute_type_profile_path'
    app/models/commute.rb:86:in `amee_profile_item'
    app/models/commute.rb:77:in `amee_profile_item_field'
    app/models/commute.rb:30:in `distance'
    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (176.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (111.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (113.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (26.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (23.8ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (23.0ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (10.1ms)[0m   [0;1mdescribe `commutes`[0m
  [4;35;1mSQL (46.4ms)[0m   [0mSHOW KEYS FROM `commutes`[0m
  [4;36;1mSQL (12.0ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (3.5ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (50.4ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddCommutes (20091116162643)
  [4;35;1mSQL (318.6ms)[0m   [0mDROP TABLE `commutes`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091116162643'[0m
  [4;35;1mSQL (22.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (3.8ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (230.6ms)[0m   [0mCREATE TABLE `commutes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile_item_id` varchar(255), `commute_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (738.1ms)[0m   [0;1mCREATE INDEX `index_commutes_on_project_id` ON `commutes` (`project_id`)[0m
  [4;35;1mSQL (20.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091116162643')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (16.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (17.3ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (2.1ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (3.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:50:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (1.0ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 62ms (View: 3, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 09:50:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 151ms (View: 14, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 09:50:56) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"bus", "visits"=>"4", "distance"=>"7"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (21.5ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('My Commute', '2009-11-18 09:50:56', 'bus', 2, '2009-11-18 09:50:56', '739A1AA1CFA9')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 615ms (DB: 27) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:50:56) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 270ms (View: 134, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:50:58) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.0ms)
Completed in 54ms (View: 10, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 09:50:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"1", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 1 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 401ms (View: 354, DB: 5) | 200 OK [http://localhost/projects/2/commutes/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 09:51:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 86ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 09:51:17) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Another commute", "commute_type"=>"car", "visits"=>"8", "distance"=>"27"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (26.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Another commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Another commute', '2009-11-18 09:51:18', 'car', 2, '2009-11-18 09:51:18', 'E26C588642F6')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 743ms (DB: 31) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:51:18) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 168ms (View: 140, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:51:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
Completed in 144ms (View: 12, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 09:51:21) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"2", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 2 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 332ms (View: 286, DB: 5) | 200 OK [http://localhost/projects/2/commutes/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 09:51:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 150ms (View: 12, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:51:32) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 163ms (View: 132, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:52:27) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 384ms (View: 268, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:54:19) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.9ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined method `path' for #<Array:0x10359dfb8>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    app/models/project.rb:19:in `total_carbon'
    app/models/project.rb:18:in `each'
    app/models/project.rb:18:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (176.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:54:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 727ms (View: 696, DB: 4) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 09:54:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
Completed in 62ms (View: 12, DB: 6) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 09:54:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 61ms (View: 12, DB: 6) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 09:55:13) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"Work -> Office", "commute_type"=>"motorbike", "visits"=>"2", "distance"=>"21"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Work -> Office') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Work -> Office', '2009-11-18 09:55:14', 'motorbike', 2, '2009-11-18 09:55:14', '8FCDCB0BF1CD')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 650ms (DB: 6) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 09:55:14) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 787ms (View: 758, DB: 3) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 10:05:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (39.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
Completed in 100ms (View: 15, DB: 43) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 10:05:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 59ms (View: 11, DB: 5) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 10:06:08) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"m2A7lPYQyCAG07iYy0YqiwMlfqmz1DDEpGS7Cxs9dt8=", "commute"=>{"name"=>"My Commute", "commute_type"=>"car", "visits"=>"1", "distance"=>"2"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'My Commute') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 151ms (View: 94, DB: 5) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 12:05:18) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (12.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (27.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m

NoMethodError (undefined method `filter' for #<Array:0x10394aee0>):
  app/models/client.rb:5:in `user_can_read'
  app/controllers/projects_controller.rb:14:in `show'

Rendered rescues/_trace (63.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 12:05:38) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m

NoMethodError (undefined method `select_if' for #<Array:0x1033d8188>):
  app/models/client.rb:5:in `user_can_read'
  app/controllers/projects_controller.rb:14:in `show'

Rendered rescues/_trace (183.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 12:06:43) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (16.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m

NoMethodError (undefined method `belongs_to' for Role:Class):
  app/models/role.rb:2
  app/models/user.rb:54:in `admin?'
  app/models/user.rb:68:in `can_write?'
  app/models/user.rb:58:in `can_read?'
  app/models/client.rb:5:in `user_can_read'
  app/models/client.rb:5:in `select'
  app/models/client.rb:5:in `user_can_read'
  app/controllers/projects_controller.rb:14:in `show'

Rendered rescues/_trace (193.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 12:06:56) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (2.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m

ArgumentError (Unknown key(s): role_type):
  app/models/user.rb:26:in `admins'
  app/models/user.rb:54:in `admin?'
  app/models/user.rb:68:in `can_write?'
  app/models/user.rb:58:in `can_read?'
  app/models/client.rb:5:in `user_can_read'
  app/models/client.rb:5:in `select'
  app/models/client.rb:5:in `user_can_read'
  app/controllers/projects_controller.rb:14:in `show'

Rendered rescues/_trace (164.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (56.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
Migrating to AddRoles (20091118120729)
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (168.8ms)[0m   [0;1mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `user_id` int(11), `role_type` varchar(255), `allowable_id` varchar(255), `allowable_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (318.6ms)[0m   [0mCREATE INDEX `index_roles_on_user_id` ON `roles` (`user_id`)[0m
  [4;36;1mSQL (135.7ms)[0m   [0;1mCREATE INDEX `index_roles_on_allowable_id_and_allowable_type` ON `roles` (`allowable_id`, `allowable_type`)[0m
  [4;35;1mSQL (1.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091118120729')[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (32.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (47.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (7.5ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (2.4ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 12:13:10) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m

ArgumentError (Unknown key(s): role_type):
  app/models/user.rb:26:in `admins'
  app/models/user.rb:54:in `admin?'
  app/models/user.rb:68:in `can_write?'
  app/models/user.rb:58:in `can_read?'
  app/models/client.rb:5:in `user_can_read'
  app/models/client.rb:5:in `select'
  app/models/client.rb:5:in `user_can_read'
  app/controllers/projects_controller.rb:14:in `show'

Rendered rescues/_trace (237.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.user_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.user_id = 1) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.4ms)[0m   [0mINSERT INTO `roles` (`allowable_type`, `allowable_id`, `created_at`, `updated_at`, `role_type`, `user_id`) VALUES(NULL, NULL, '2009-11-18 12:16:59', '2009-11-18 12:16:59', 'admin', 1)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (58.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mRole Columns (9.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (50.6ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (153.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Columns (17.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 12:21:33) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Columns (5.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined method `name' for #<Enumerable::Enumerator:0x103527ef8>) on line #1 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 

    app/views/projects/show.html.erb:1

Rendered rescues/_trace (212.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 12:22:13) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
Completed in 60ms (View: 6, DB: 9) | 200 OK [http://localhost/projects]
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Update (26.6ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 12:23:33', `allowable_id` = 1, `role_type` = 'company_superuser', `allowable_type` = 'Client' WHERE `id` = 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 12:23:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 57ms (View: 2, DB: 6) | 200 OK [http://localhost/projects]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mClient Load (32.4ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mUser Load (2.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (3.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mClient Load (0.1ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 12:28:39) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (3.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 60ms (View: 1, DB: 9) | 200 OK [http://localhost/projects]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mRole Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 12:28:54) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (4.9ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (6.8ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 191ms (View: 2, DB: 17) | 200 OK [http://localhost/projects]
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (1.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mUser Load (30.7ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mProject Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 12:34:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 144ms (View: 2, DB: 7) | 200 OK [http://localhost/projects]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 12:34:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 60ms (View: 2, DB: 8) | 200 OK [http://localhost/projects]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mRole Load (1.8ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 13:32:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (40.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (1.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 122ms (View: 2, DB: 48) | 200 OK [http://localhost/projects]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 13:49:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mUser Columns (39.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 199ms (View: 16, DB: 44) | 200 OK [http://localhost/projects]
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mProject Load (1.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (1.2ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mSQL (85.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mRole Load (1.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mRole Load (0.9ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 13:51:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mUser Columns (37.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
Rendering template within layouts/application
Rendering projects/index
Completed in 102ms (View: 2, DB: 44) | 200 OK [http://localhost/projects]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 2) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 2) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 2) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 13:52:13) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (1.2ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (16.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.9ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined method `name' for #<Enumerable::Enumerator:0x1038b77a8>) on line #1 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 

    app/views/projects/show.html.erb:1

Rendered rescues/_trace (81.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mClient Load (6.0ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:14:47) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (8.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
<hr>
<address>Apache/2.2.9 (Debian) DAV/2 SVN/1.5.6 mod_jk/1.2.18 mod_python/3.2.10 Python/2.4.4 PHP/5.2.0-10 mod_ssl/2.2.9 OpenSSL/0.9.8k Phusion_Passenger/2.0.3 Server at stage.amee.com Port 80</address>
</body></html>
) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
    amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
    app/models/project.rb:26:in `total_carbon'
    app/models/project.rb:25:in `each'
    app/models/project.rb:25:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (88.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:15:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
<hr>
<address>Apache/2.2.9 (Debian) DAV/2 SVN/1.5.6 mod_jk/1.2.18 mod_python/3.2.10 Python/2.4.4 PHP/5.2.0-10 mod_ssl/2.2.9 OpenSSL/0.9.8k Phusion_Passenger/2.0.3 Server at stage.amee.com Port 80</address>
</body></html>
) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
    amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
    app/models/project.rb:26:in `total_carbon'
    app/models/project.rb:25:in `each'
    app/models/project.rb:25:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (183.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:15:24) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
<hr>
<address>Apache/2.2.9 (Debian) DAV/2 SVN/1.5.6 mod_jk/1.2.18 mod_python/3.2.10 Python/2.4.4 PHP/5.2.0-10 mod_ssl/2.2.9 OpenSSL/0.9.8k Phusion_Passenger/2.0.3 Server at stage.amee.com Port 80</address>
</body></html>
) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
    amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
    app/models/project.rb:26:in `total_carbon'
    app/models/project.rb:25:in `each'
    app/models/project.rb:25:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (179.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:15:25) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
<hr>
<address>Apache/2.2.9 (Debian) DAV/2 SVN/1.5.6 mod_jk/1.2.18 mod_python/3.2.10 Python/2.4.4 PHP/5.2.0-10 mod_ssl/2.2.9 OpenSSL/0.9.8k Phusion_Passenger/2.0.3 Server at stage.amee.com Port 80</address>
</body></html>
) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
    amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
    app/models/project.rb:26:in `total_carbon'
    app/models/project.rb:25:in `each'
    app/models/project.rb:25:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (82.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:15:56) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
<hr>
<address>Apache/2.2.9 (Debian) DAV/2 SVN/1.5.6 mod_jk/1.2.18 mod_python/3.2.10 Python/2.4.4 PHP/5.2.0-10 mod_ssl/2.2.9 OpenSSL/0.9.8k Phusion_Passenger/2.0.3 Server at stage.amee.com Port 80</address>
</body></html>
) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
    amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
    app/models/project.rb:26:in `total_carbon'
    app/models/project.rb:25:in `each'
    app/models/project.rb:25:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (84.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mCommute Load (0.6ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:20:19) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
<hr>
<address>Apache/2.2.9 (Debian) DAV/2 SVN/1.5.6 mod_jk/1.2.18 mod_python/3.2.10 Python/2.4.4 PHP/5.2.0-10 mod_ssl/2.2.9 OpenSSL/0.9.8k Phusion_Passenger/2.0.3 Server at stage.amee.com Port 80</address>
</body></html>
) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %>

    amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
    amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
    app/models/project.rb:27:in `total_carbon'
    app/models/project.rb:25:in `each'
    app/models/project.rb:25:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (82.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:21:12) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1474ms (View: 1320, DB: 5) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 14:49:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mUser Columns (29.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1129ms (View: 915, DB: 35) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 14:50:52) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.projects):
  app/controllers/application_controller.rb:16:in `find_project'

Rendered rescues/_trace (167.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 14:51:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m

ActiveRecord::RecordNotFound (Couldn't find Project without an ID):
  app/controllers/application_controller.rb:18:in `find_project'

Rendered rescues/_trace (66.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 14:53:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
Completed in 95ms (View: 17, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 15:01:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (19.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mCommute Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 206ms (View: 16, DB: 29) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 16:11:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"2", "controller"=>"commutes"}
  [4;35;1mClient Load (22.6ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (44.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 2 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1803ms (View: 1460, DB: 75) | 200 OK [http://localhost/projects/2/commutes/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:13:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (34.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
Completed in 139ms (View: 33, DB: 42) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:13:45) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.6ms)
Completed in 133ms (View: 16, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_superuser') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:19:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 335ms (View: 91, DB: 11) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:20:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
Completed in 96ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:20:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (29.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
Completed in 118ms (View: 14, DB: 39) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:20:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
Completed in 88ms (View: 15, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:21:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.3ms)
Completed in 173ms (View: 15, DB: 11) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:21:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
Completed in 89ms (View: 14, DB: 11) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:22:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
Completed in 89ms (View: 15, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:22:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.9ms)
Completed in 166ms (View: 16, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:24:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (10.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Redirected to http://localhost:3000/projects
Filter chain halted as [:ensure_project_readable_by_user] rendered_or_redirected.
Completed in 62ms (DB: 17) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 16:24:38) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mClient Load (0.8ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (1.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (7.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (1.8ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m
Rendering template within layouts/application
Rendering projects/index
Completed in 133ms (View: 61, DB: 16) | 200 OK [http://localhost/projects]
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 16:25:02', `role_type` = 'company_admin' WHERE `id` = 1[0m
  [4;35;1mSQL (30.0ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 16:25:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
Rendering template within layouts/application
Rendering projects/index
Completed in 139ms (View: 2, DB: 8) | 200 OK [http://localhost/projects]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 16:25:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1756ms (View: 1695, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:25:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 167ms (View: 91, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 16:25:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"3", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mCommute Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 3 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 457ms (View: 377, DB: 11) | 200 OK [http://localhost/projects/2/commutes/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-18 16:25:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"2", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 2 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 554ms (View: 475, DB: 10) | 200 OK [http://localhost/projects/2/commutes/2]
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 16:25:59', `role_type` = 'company_admi' WHERE `id` = 1[0m
  [4;35;1mSQL (49.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:26:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'reader') AND (`roles`.user_id = 1) [0m

ActiveRecord::RecordNotFound (ActiveRecord::RecordNotFound):
  app/controllers/application_controller.rb:22:in `ensure_project_readable_by_user'

Rendered rescues/_trace (65.2ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (not_found)
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 16:26:06', `role_type` = 'company_admin' WHERE `id` = 1[0m
  [4;35;1mSQL (83.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-18 16:26:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering root/index
Completed in 327ms (View: 224, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-18 16:26:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 31ms (View: 17, DB: 0) | 200 OK [http://localhost/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-18 16:26:41) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "controller"=>"sessions", "login"=>"george", "password"=>"[FILTERED]"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Load (20.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 47ms (DB: 23) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-18 16:26:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering root/index
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 28ms (View: 11, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#index (for 127.0.0.1 at 2009-11-18 16:26:45) [GET]
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mRole Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
Rendering template within layouts/application
Rendering projects/index
Completed in 61ms (View: 2, DB: 8) | 200 OK [http://localhost/projects]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 16:26:46) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 901ms (View: 842, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:26:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
Completed in 92ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` LIMIT 1[0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY users.id DESC LIMIT 1[0m
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 2) [0m
  [4;36;1mSQL (233.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:43:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.0ms)
Completed in 166ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 16:43:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mClient Load (0.2ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 196ms (View: 118, DB: 8) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-18 16:43:41) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"What a commute", "commute_type"=>"car", "visits"=>"3", "distance"=>"12"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
  [4;35;1mCommute Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'What a commute') LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.6ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('What a commute', '2009-11-18 16:43:43', 'car', 2, '2009-11-18 16:43:43', '71D0F0D7EF95')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1895ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-18 16:43:43) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 919ms (View: 858, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-18 16:43:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.2ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.client_id = 1) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
Completed in 91ms (View: 16, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 16:44:05', `role_type` = 'user' WHERE `id` = 1[0m
  [4;35;1mSQL (402.6ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-18 16:44:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m

ActiveRecord::RecordNotFound (ActiveRecord::RecordNotFound):
  app/controllers/application_controller.rb:26:in `ensure_project_writeable_by_user'

Rendered rescues/_trace (63.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 16:44:53', `role_type` = 'project_owner' WHERE `id` = 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 14:28:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (47.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m

ActiveRecord::RecordNotFound (ActiveRecord::RecordNotFound):
  app/controllers/application_controller.rb:26:in `ensure_project_writeable_by_user'

Rendered rescues/_trace (65.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mRole Load (0.0ms)[0m   [0;1mMysql::Error: MySQL server has gone away: SELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (12.7ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-19 14:29:22', `allowable_id` = 2, `allowable_type` = 'Project' WHERE `id` = 1[0m
  [4;35;1mSQL (33.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 14:29:27) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 208ms (View: 34, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-19 14:29:41) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Miled commpute", "commute_type"=>"car", "visits"=>"1", "distance"=>"1000"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Miled commpute') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Miled commpute', '2009-11-19 14:29:43', 'car', 2, '2009-11-19 14:29:43', 'B184A2AF5A66')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1681ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-19 14:29:43) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1284ms (View: 1221, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-19 14:29:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
Completed in 93ms (View: 20, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (81.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (19.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.1ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-19 16:02:10) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show

ActionView::TemplateError (undefined method `ammount' for #<Commute:0x10370de48>) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.ammount %> (add units here)

    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (151.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-19 16:02:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (undefined method `unit' for #<Commute:0x10357b990>) on line #1 of app/views/commutes/show.html.erb:
1: <%= @commute.name %> <%= @commute.amount %> <%= @commute.unit %>

    app/views/commutes/show.html.erb:1

Rendered rescues/_trace (76.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-19 16:02:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 760ms (View: 596, DB: 9) | 200 OK [http://localhost/projects/2/commutes/5]
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.1ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-19 16:04:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"5", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (36.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 5 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 732ms (View: 622, DB: 44) | 200 OK [http://localhost/projects/2/commutes/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-19 16:05:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"4", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 4 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1377ms (View: 1304, DB: 9) | 200 OK [http://localhost/projects/2/commutes/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-19 16:05:25) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 93ms (View: 19, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 16:05:26) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
ERROR: compiling _run_erb_app47views47commutes47new46html46erb RAISED compile error
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:3: syntax error, unexpected ')'
...r.concat(( f.select :units,  ).to_s); @output_buffer.concat ...
                              ^
Function body:           def _run_erb_app47views47commutes47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_for @commute, :url => project_commutes_path do |f| ; @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :name ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :amount ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.text_field :amount ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.select :units,  ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :commute_type ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]} ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( f.label :visits ).to_s); @output_buffer.concat " "; @output_buffer.concat(( f.text_field :visits ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( submit_tag "Create Commute" ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/george/work/amee/overbury/app/views/commutes/new.html.erb:10:in `compile!'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/george/work/amee/overbury/app/views/commutes/new.html.erb:3: syntax error, unexpected ')'
...r.concat(( f.select :units,  ).to_s); @output_buffer.concat ...
                              ^) on line #3 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :amount %> <%= f.text_field :amount %> <%= f.select :units,  %>
4:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]} %>
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>

    app/views/commutes/new.html.erb:10:in `compile!'

Rendered rescues/_trace (76.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-19 16:18:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering root/index
  [4;36;1mUser Columns (35.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 80ms (View: 29, DB: 36) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-19 16:18:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (22.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
Completed in 156ms (View: 65, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (73.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (37.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:23:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (58.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym) on line #3 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :amount %> <%= f.text_field :amount %> <%= f.select :units, @commute.x %>
4:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]} %>
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>

    app/models/commute.rb:71:in `commute_type_category'
    app/models/commute.rb:33:in `x'
    app/views/commutes/new.html.erb:3
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (162.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:35:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (uninitialized constant Commute::Type) on line #3 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :amount %> <%= f.text_field :amount %> <%= f.select :units, Commute::Type[:bus].unit_options %>
4:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]} %>
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>

    app/views/commutes/new.html.erb:3
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (92.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:35:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (undefined method `visits' for #<Commute:0x1038ee848>) on line #5 of app/views/commutes/new.html.erb:
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :amount %> <%= f.text_field :amount %> <%= f.select :units, Commute::TYPE[:bus].unit_options %>
4:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]} %>
5:     <%= f.label :visits %> <%= f.text_field :visits %>
6:     <%= submit_tag "Create Commute" %>
7: <% end %>

    app/views/commutes/new.html.erb:5
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (87.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:36:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 191ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:36:32) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 172ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-19 17:38:26) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"test commute 1", "commute_type"=>"car", "units"=>"km", "amount"=>"50"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'test commute 1') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('test commute 1', '2009-11-19 17:38:32', 'car', 2, '2009-11-19 17:38:32', '7E8316CD0425')[0m
  [4;35;1mSQL (56.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 6800ms (DB: 66) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-19 17:38:33) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2422ms (View: 2364, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-19 17:39:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 190ms (View: 111, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:39:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 99ms (View: 19, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-19 17:39:14) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"test commute 2", "commute_type"=>"car", "units"=>"miles", "amount"=>"50"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'test commute 2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.4ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('test commute 2', '2009-11-19 17:39:16', 'car', 2, '2009-11-19 17:39:16', 'E12A64B69A69')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1972ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-19 17:39:17) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1139ms (View: 1076, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Destroy (1.0ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 7[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-19 17:41:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.6ms)
Completed in 97ms (View: 20, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:41:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 104ms (View: 12, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-19 17:41:25) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"test commute 2", "commute_type"=>"car", "units"=>"miles", "amount"=>"50"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'test commute 2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m

AMEE::UnknownError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: {"status":{"description":"A request was received with one or more invalid parameters.","name":"Bad Request","code":400,"uri":"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1"}}):
  amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
  amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:85:in `post'
  amee (2.0.28) lib/amee/profile_item.rb:264:in `create_without_category'
  amee (2.0.28) lib/amee/profile_item.rb:238:in `create'
  app/models/commute.rb:46:in `update_amee'
  app/controllers/commutes_controller.rb:32:in `create'

Rendered rescues/_trace (90.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:42:11) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.8ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 101ms (View: 12, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-19 17:42:21) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"test commute 2", "commute_type"=>"car", "units"=>"mi", "amount"=>"50"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'test commute 2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('test commute 2', '2009-11-19 17:42:25', 'car', 2, '2009-11-19 17:42:25', 'B30BB1D2DC44')[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 4344ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-19 17:42:25) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2477ms (View: 2341, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-19 17:50:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (1.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (1.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.7ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 108ms (View: 22, DB: 14) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-19 17:50:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 172ms (View: 11, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (206.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 10:37:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 522ms (View: 45, DB: 12) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 10:38:05) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1395ms (View: 1335, DB: 7) | 200 OK [http://localhost/projects/2/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 10:54:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (21.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (13.0ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
Completed in 282ms (View: 48, DB: 42) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 10:54:58) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (1.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1965ms (View: 1905, DB: 9) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 11:07:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.7ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 185ms (View: 105, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 11:07:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 93ms (View: 11, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 11:07:44) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"adfdsf", "commute_type"=>"car", "units"=>"km", "amount"=>"234"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'adfdsf') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (16.4ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('adfdsf', '2009-11-20 11:07:48', 'car', 2, '2009-11-20 11:07:48', 'D671A05342F8')[0m
  [4;35;1mSQL (53.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 3445ms (DB: 80) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 11:07:48) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1480ms (View: 1418, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 11:09:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 104ms (View: 25, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 11:09:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 95ms (View: 11, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 11:19:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 177ms (View: 13, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (17.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 12:35:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (6.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 234ms (View: 136, DB: 35) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 12:35:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 92ms (View: 10, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 12:35:18) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Here's a commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"17"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.8ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Here\'s a commute') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `amee_api_unit' for [#<Unit:0x103758a60 @type=:km>, #<Unit:0x103757b10 @type=:miles>]:Array):
  lib/amee_category.rb:36:in `find_item_value_name'
  lib/amee_category.rb:35:in `each'
  lib/amee_category.rb:35:in `find_item_value_name'
  app/models/commute.rb:57:in `amount_symbol'
  app/models/commute.rb:46:in `update_amee'
  app/controllers/commutes_controller.rb:37:in `create'

Rendered rescues/_trace (167.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 12:36:46) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Here's a commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"17"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Here\'s a commute') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.amee_api_unit):
  lib/amee_category.rb:36:in `find_item_value_name'
  lib/amee_category.rb:35:in `each'
  lib/amee_category.rb:35:in `find_item_value_name'
  app/models/commute.rb:57:in `amount_symbol'
  app/models/commute.rb:46:in `update_amee'
  app/controllers/commutes_controller.rb:37:in `create'

Rendered rescues/_trace (86.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 13:45:54) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Here's a commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"17"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (32.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Here\'s a commute') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `amee_api_unit' for [#<Unit:0x1036c82a8 @type=:km>, #<Unit:0x1036c51e8 @type=:miles>]:Array):
  lib/amee_category.rb:36:in `find_item_value_name'
  lib/amee_category.rb:35:in `each'
  lib/amee_category.rb:35:in `find_item_value_name'
  app/models/commute.rb:57:in `amount_symbol'
  app/models/commute.rb:46:in `update_amee'
  app/controllers/commutes_controller.rb:37:in `create'

Rendered rescues/_trace (90.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 13:47:08) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Here's a commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"17"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Here\'s a commute') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `amee_api_unit' for [#<Unit:0x1038dda20 @type=:km>, #<Unit:0x1038dcc10 @type=:miles>]:Array):
  lib/amee_category.rb:37:in `find_item_value_name'
  lib/amee_category.rb:35:in `each'
  lib/amee_category.rb:35:in `find_item_value_name'
  app/models/commute.rb:57:in `amount_symbol'
  app/models/commute.rb:46:in `update_amee'
  app/controllers/commutes_controller.rb:37:in `create'

Rendered rescues/_trace (88.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 13:48:12) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Here's a commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"17"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Here\'s a commute') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Here\'s a commute', '2009-11-20 13:48:14', 'car', 2, '2009-11-20 13:48:14', '736F5CC9012D')[0m
  [4;36;1mSQL (50.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1990ms (DB: 59) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 13:48:15) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (4.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1529ms (View: 1454, DB: 14) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 13:48:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (19.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 209ms (View: 29, DB: 28) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 13:48:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 98ms (View: 11, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 13:49:02) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"An unlikely commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"31"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'An unlikely commute') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('An unlikely commute', '2009-11-20 13:49:03', 'car', 2, '2009-11-20 13:49:03', 'DCEB33AA9358')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 993ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 13:49:03) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.8ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1296ms (View: 1232, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 13:49:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
Completed in 190ms (View: 31, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 13:49:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 93ms (View: 10, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 13:49:27) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"km commute", "commute_type"=>"bus", "units"=>"km", "amount"=>"10"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'km commute') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.6ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('km commute', '2009-11-20 13:49:27', 'bus', 2, '2009-11-20 13:49:27', '76FD7531610B')[0m
  [4;35;1mSQL (39.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 842ms (DB: 49) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 13:49:28) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (3.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2300ms (View: 2231, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 13:49:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 109ms (View: 32, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 13:49:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 101ms (View: 10, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 13:49:54) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Walk to work", "commute_type"=>"walking", "units"=>"mi", "amount"=>"5"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (1.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Walk to work') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Walk to work', '2009-11-20 13:49:55', 'walking', 2, '2009-11-20 13:49:55', '684BDEA32853')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 766ms (DB: 14) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 13:49:55) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1260ms (View: 1119, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 13:50:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
Completed in 114ms (View: 34, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (5.5ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-20 13:50:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"13", "controller"=>"commutes"}
  [4;35;1mClient Load (29.2ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (17.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (4.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 13 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 436ms (View: 210, DB: 58) | 200 OK [http://localhost/projects/2/commutes/13]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-20 13:51:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"10", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 10 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 463ms (View: 300, DB: 10) | 200 OK [http://localhost/projects/2/commutes/10]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 14:00:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 91ms (View: 10, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 14:01:12) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Route 77", "commute_type"=>"bus", "units"=>"mi", "amount"=>"12"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Route 77') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Route 77', '2009-11-20 14:01:13', 'bus', 2, '2009-11-20 14:01:13', '84BC6070A2E3')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1409ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 14:01:14) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 3473ms (View: 3414, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 14:06:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
Completed in 202ms (View: 40, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 14:06:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 93ms (View: 12, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 14:06:22) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"blah", "commute_type"=>"car", "units"=>"mi", "amount"=>"34"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'blah') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('blah', '2009-11-20 14:06:26', 'car', 2, '2009-11-20 14:06:26', 'CE073C340A26')[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 4429ms (DB: 12) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 14:06:26) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1709ms (View: 1649, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 14:06:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 208ms (View: 43, DB: 11) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-20 14:06:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"15", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 15 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 438ms (View: 358, DB: 9) | 200 OK [http://localhost/projects/2/commutes/15]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-20 14:08:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"15", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 15 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 440ms (View: 361, DB: 9) | 200 OK [http://localhost/projects/2/commutes/15]
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-20 14:13:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"15", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 15 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 451ms (View: 371, DB: 9) | 200 OK [http://localhost/projects/2/commutes/15]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 14:23:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.unit_options) on line #4 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]} %>
4:     <%= f.label :amount %> <%= f.text_field :amount %> <%= f.select :units, Commute::TYPE[:bus].unit_options %><!-- hard coded atm -->
5:     <%= submit_tag "Create Commute" %>
6: <% end %>

    app/views/commutes/new.html.erb:4
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (78.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:11:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (65.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 286ms (View: 20, DB: 74) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:11:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 117ms (View: 13, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:13:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 108ms (View: 24, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:13:26) [POST]
  Parameters: {"diesel"=>nil, "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "type"=>"commute", "_"=>""}

ActionController::MethodNotAllowed (Only get requests are allowed.):
  

Rendered rescues/_trace (140.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:14:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 113ms (View: 24, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:14:21) [GET]
  Parameters: {"action"=>"index", "diesel"=>nil, "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "type"=>"commute", "controller"=>"units"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/units_controller.rb:7:in `[]'
  app/controllers/units_controller.rb:7:in `index'

Rendered rescues/_trace (61.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:16:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 193ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:16:44) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/units_controller.rb:8:in `[]'
  app/controllers/units_controller.rb:8:in `index'

Rendered rescues/_trace (153.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:16:54) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/units_controller.rb:8:in `[]'
  app/controllers/units_controller.rb:8:in `index'

Rendered rescues/_trace (63.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:17:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 113ms (View: 25, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:18:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 101ms (View: 16, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:18:58) [GET]
  Parameters: {"name"=>"diesel", "action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/units_controller.rb:8:in `[]'
  app/controllers/units_controller.rb:8:in `index'

Rendered rescues/_trace (64.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:20:32) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 188ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:20:38) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"diesel", "type"=>"commute", "controller"=>"units"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 49ms (View: 12, DB: 2) | 200 OK [http://localhost/units?type=commute&selection=diesel&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:21:21) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 189ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:24) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"diesel", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 45ms (View: 8, DB: 2) | 200 OK [http://localhost/units?type=commute&selection=diesel&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:28) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"petrol", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 40ms (View: 2, DB: 3) | 200 OK [http://localhost/units?type=commute&selection=petrol&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:31) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"electricity", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 43ms (View: 1, DB: 3) | 200 OK [http://localhost/units?type=commute&selection=electricity&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:34) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"gas", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 129ms (View: 2, DB: 2) | 200 OK [http://localhost/units?type=commute&selection=gas&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:37) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"diesel", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 42ms (View: 2, DB: 2) | 200 OK [http://localhost/units?type=commute&selection=diesel&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:40) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"petrol", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 39ms (View: 1, DB: 2) | 200 OK [http://localhost/units?type=commute&selection=petrol&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:41) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"electricity", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 42ms (View: 1, DB: 3) | 200 OK [http://localhost/units?type=commute&selection=electricity&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UnitsController#index (for 127.0.0.1 at 2009-11-20 15:21:44) [GET]
  Parameters: {"action"=>"index", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "selection"=>"gas", "type"=>"commute", "controller"=>"units"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering units/index
Completed in 42ms (View: 2, DB: 2) | 200 OK [http://localhost/units?type=commute&selection=gas&authenticity_token=xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q%3D]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:39:49) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
  [4;36;1mSQL (66.8ms)[0m   [0;1mSHOW TABLES[0m

ActionView::TemplateError (undefined method `Type' for #<Class:0x1038db950>) on line #9 of app/views/commutes/new.html.erb:
6: <% end %>
7: 
8: <% Commute::TYPE.keys.each do |key| %>
9:     <%= options_for_select(Commute::Type(key).unit_options) %>
10: <% end %>

    app/views/commutes/new.html.erb:9
    app/views/commutes/new.html.erb:8:in `each'
    app/views/commutes/new.html.erb:8

Rendered rescues/_trace (77.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:39:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m

ActionView::TemplateError (undefined method `TYPE' for #<Class:0x1037f9c58>) on line #9 of app/views/commutes/new.html.erb:
6: <% end %>
7: 
8: <% Commute::TYPE.keys.each do |key| %>
9:     <%= options_for_select(Commute::TYPE(key).unit_options) %>
10: <% end %>

    app/views/commutes/new.html.erb:9
    app/views/commutes/new.html.erb:8:in `each'
    app/views/commutes/new.html.erb:8

Rendered rescues/_trace (161.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:40:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 103ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:40:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 105ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:42:25) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 108ms (View: 22, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:42:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 183ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:42:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 186ms (View: 105, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:42:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 97ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:43:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 106ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:47:10) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 214ms (View: 31, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:47:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 193ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:48:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 194ms (View: 113, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:49:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 106ms (View: 18, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:49:27) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 95ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:50:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 184ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:50:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 181ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:31) [GET]

ActionController::RoutingError (No route matches "/javascripts/prototype.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:31) [GET]

ActionController::RoutingError (No route matches "/javascripts/effects.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:31) [GET]

ActionController::RoutingError (No route matches "/javascripts/dragdrop.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:31) [GET]

ActionController::RoutingError (No route matches "/javascripts/controls.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:50:47) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 181ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/prototype.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/effects.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/dragdrop.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:50:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/controls.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:52:10) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 95ms (View: 14, DB: 8) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:52:11) [GET]

ActionController::RoutingError (No route matches "/javascripts/prototype.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:52:11) [GET]

ActionController::RoutingError (No route matches "/javascripts/effects.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:52:11) [GET]

ActionController::RoutingError (No route matches "/javascripts/dragdrop.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-20 15:52:11) [GET]

ActionController::RoutingError (No route matches "/javascripts/controls.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:52:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 265ms (View: 34, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:55:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 173ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 15:59:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 97ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:00:26) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (31.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`remember_token` = '301b1aef5e09a58f88f7fe3b1aaa3bfdc0b253b3') LIMIT 1[0m
Redirected to http://localhost:3000/session/new
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 431ms (DB: 32) | 302 Found [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-20 16:00:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 110ms (View: 95, DB: 0) | 200 OK [http://localhost/session/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-11-20 16:00:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"sessions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new
Completed in 574ms (View: 9, DB: 0) | 200 OK [http://localhost/session/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-11-20 16:00:44) [POST]
  Parameters: {"commit"=>"Log in", "action"=>"create", "authenticity_token"=>"+Q74q+ujTG5VJ1gS2ue8UY5+7o+Hcrq4uV2c5gPwxvE=", "controller"=>"sessions", "login"=>"George", "password"=>"[FILTERED]"}
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'george') AND (users.state = 'active') LIMIT 1[0m
  [4;36;1mUser Columns (13.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (18.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2/commutes/new
Completed in 112ms (DB: 34) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:00:45) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (16.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (7.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (17.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (4.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (11.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 352ms (View: 91, DB: 69) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:01:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (38.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (11.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (2.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (15.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (39.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 289ms (View: 71, DB: 113) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:01:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (12.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (8.7ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (10.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (14.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (13.9ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 157ms (View: 14, DB: 68) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:01:27) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (17.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (37.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (49.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (62.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (6.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (29.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (32.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (44.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 400ms (View: 19, DB: 281) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:03:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 178ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:03:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 180ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:05:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 107ms (View: 23, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:06:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 109ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:09:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 180ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:10:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 171ms (View: 15, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 16:11:03) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"my train journey", "commute_type"=>"train", "units"=>"mi", "amount"=>"134"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'my train journey') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('my train journey', '2009-11-20 16:11:05', 'train', 2, '2009-11-20 16:11:05', '08B11252FF5E')[0m
  [4;36;1mSQL (37.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1255ms (DB: 47) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 16:11:05) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1975ms (View: 1912, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 16:11:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (17.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 160ms (View: 80, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-20 16:11:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 102ms (View: 18, DB: 8) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-20 16:11:50) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Old Street", "commute_type"=>"tube", "units"=>"mi", "amount"=>"4.5"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Old Street') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Clapham North -> Old Street', '2009-11-20 16:11:50', 'tube', 2, '2009-11-20 16:11:50', '13354A4F0C6E')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 844ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-20 16:11:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2169ms (View: 2033, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-20 16:13:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 122ms (View: 43, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (118.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RootController#index (for 127.0.0.1 at 2009-11-23 09:05:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"root"}
  [4;35;1mClient Load (210.8ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
Rendering template within layouts/application
Rendering root/index
  [4;36;1mUser Columns (92.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (69.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 556ms (View: 168, DB: 492) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 09:05:42) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (20.1ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (27.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (33.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (90.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 5302ms (View: 4961, DB: 197) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 09:23:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (18.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 249ms (View: 78, DB: 27) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 09:23:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 208ms (View: 51, DB: 8) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 09:23:59) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"A very long commute", "commute_type"=>"train", "units"=>"mi", "amount"=>"100"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (279.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (54.8ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'A very long commute') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (65.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('A very long commute', '2009-11-23 09:24:00', 'train', 2, '2009-11-23 09:24:00', '0C57DBBCD848')[0m
  [4;36;1mSQL (112.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1609ms (DB: 520) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 09:24:01) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1466ms (View: 1409, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 09:24:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 125ms (View: 44, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 09:24:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"18", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 18 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 439ms (View: 285, DB: 9) | 200 OK [http://localhost/projects/2/commutes/18]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:04:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (105.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (17.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m

NameError (undefined local variable or method `has_carbon_data_stored_in_amee' for #<Class:0x10389de70>):
  app/models/commute.rb:3
  app/controllers/commutes_controller.rb:26:in `index'

Rendered rescues/_trace (87.9ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:05:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m

NameError (undefined local variable or method `has_carbon_data_stored_in_amee' for #<Class:0x10389de70>):
  app/models/commute.rb:3
  app/controllers/commutes_controller.rb:26:in `index'

Rendered rescues/_trace (86.6ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:05:21) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m

NameError (undefined local variable or method `has_carbon_data_stored_in_amee' for #<Class:0x103851548>):
  app/models/commute.rb:3
  app/controllers/commutes_controller.rb:26:in `index'

Rendered rescues/_trace (83.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:05:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ArgumentError (wrong number of arguments (0 for 1)):
  app/models/commute.rb:5:in `has_carbon_data_stored_in_amee'
  app/models/commute.rb:5
  app/controllers/commutes_controller.rb:26:in `index'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:05:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

NameError (uninitialized constant AmeeCarbonStore::CarbonMacro::InstanceMethods):
  lib/amee_carbon_store.rb:12:in `has_carbon_data_stored_in_amee'
  app/models/commute.rb:5
  app/controllers/commutes_controller.rb:26:in `index'

Rendered rescues/_trace (84.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:06:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
Completed in 161ms (View: 76, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 10:06:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 106ms (View: 22, DB: 8) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:06:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"18", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 18 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 107ms (View: 15, DB: 11) | 200 OK [http://localhost/projects/2/commutes/18]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 10:06:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 182ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 10:07:02) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"moduled commute", "commute_type"=>"tube", "units"=>"mi", "amount"=>"10"}, "controller"=>"commutes"}
  [4;36;1mClient Load (33.9ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'moduled commute') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `update_amee' for #<Commute:0x103630818>):
  app/controllers/commutes_controller.rb:35:in `create'

Rendered rescues/_trace (83.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 10:07:17) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"moduled commute", "commute_type"=>"tube", "units"=>"mi", "amount"=>"10"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'moduled commute') LIMIT 1[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `update_amee' for #<Commute:0x103878f80>):
  app/controllers/commutes_controller.rb:35:in `create'

Rendered rescues/_trace (86.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 10:07:27) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"moduled commute", "commute_type"=>"tube", "units"=>"mi", "amount"=>"10"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'moduled commute') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `update_amee' for #<Commute:0x10389a798>):
  app/controllers/commutes_controller.rb:35:in `create'

Rendered rescues/_trace (86.8ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 10:07:57) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"moduled commute", "commute_type"=>"tube", "units"=>"mi", "amount"=>"10"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'moduled commute') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('moduled commute', '2009-11-23 10:07:59', 'tube', 2, '2009-11-23 10:07:59', '4C95C7A3BA9F')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1202ms (DB: 13) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 10:07:59) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2247ms (View: 2187, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:08:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 227ms (View: 64, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:08:06) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"19", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 19 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 176ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/19]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:08:10) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
Completed in 216ms (View: 58, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 10:08:11) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 189ms (View: 25, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 10:08:29) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Did that work?", "commute_type"=>"car", "units"=>"mi", "amount"=>"12"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Did that work?') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('Did that work?', '2009-11-23 10:08:30', 'car', 2, '2009-11-23 10:08:30', '7D4EA93CB5E8')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 937ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 10:08:30) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1491ms (View: 1431, DB: 9) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:08:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 216ms (View: 133, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:08:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 91ms (View: 6, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:14:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.6ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 202ms (View: 28, DB: 10) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:16:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (24.7ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 227ms (View: 27, DB: 33) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:17:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 203ms (View: 28, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:18:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 591ms (View: 417, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:30:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (25.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 229ms (View: 27, DB: 34) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:30:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (1.7ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 212ms (View: 28, DB: 10) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:33:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (45.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 246ms (View: 27, DB: 52) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:33:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 170ms (View: 7, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:36:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (30.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 124ms (View: 7, DB: 38) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:36:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 208ms (View: 28, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:36:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (179.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 344ms (View: 7, DB: 187) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:36:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 209ms (View: 27, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:37:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 170ms (View: 7, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:37:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 581ms (View: 494, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:37:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (12.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 131ms (View: 11, DB: 24) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:38:02) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;36;1mClient Load (0.8ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (14.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (6.8ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 117ms (View: 7, DB: 31) | 200 OK [http://localhost/projects/2/commutes/20]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.6ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:40:11) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (2.9ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 196ms (View: 9, DB: 16) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:40:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (33.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (5.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 205ms (View: 7, DB: 45) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:43:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 461ms (View: 373, DB: 10) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:43:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 89ms (View: 7, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:44:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 164ms (View: 6, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:44:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
Completed in 164ms (View: 7, DB: 10) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:44:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 543ms (View: 459, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 10:45:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"20", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 20 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 622ms (View: 538, DB: 9) | 200 OK [http://localhost/projects/2/commutes/20]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:45:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 144ms (View: 63, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 10:45:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 105ms (View: 22, DB: 8) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:45:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 132ms (View: 49, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 10:45:20) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 4414ms (View: 4281, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 10:45:28) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"sfdgsdfg", "commute_type"=>"train", "units"=>"km", "amount"=>"32"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'sfdgsdfg') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (53.1ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `amee_profile_item_id`) VALUES('sfdgsdfg', '2009-11-23 10:45:30', 'train', 2, '2009-11-23 10:45:30', '787534C4392F')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1999ms (DB: 63) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 10:45:30) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2420ms (View: 2288, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 10:45:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (3.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (2.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (1.7ms)
Completed in 230ms (View: 56, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 10:51:29) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1531ms (View: 1398, DB: 7) | 200 OK [http://localhost/projects/2]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (59.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (67.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
Migrating to AddRoles (20091118120729)
Migrating to AddEnergyTracking (20091123105445)
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (278.9ms)[0m   [0;1mCREATE TABLE `energy_consumptions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile_item_id` varchar(255), `energy_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (455.2ms)[0m   [0mCREATE INDEX `index_energy_consumptions_on_project_id` ON `energy_consumptions` (`project_id`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091123105445')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (46.9ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `commutes`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `commutes`[0m
  [4;36;1mSQL (13.1ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `energy_consumptions`[0m
  [4;36;1mSQL (12.7ms)[0m   [0;1mSHOW KEYS FROM `energy_consumptions`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `passwords`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `passwords`[0m
  [4;35;1mSQL (22.3ms)[0m   [0mSHOW KEYS FROM `passwords`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `projects`[0m
  [4;36;1mSQL (14.4ms)[0m   [0;1mSHOW KEYS FROM `projects`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (6.5ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (10.7ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:07:00) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 6735ms (View: 6676, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 11:10:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}

NameError (uninitialized constant EnergyConsumptionsController):
  

Rendered rescues/_trace (54.7ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 11:10:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (2.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (2.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (1.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.5ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
Completed in 212ms (View: 21, DB: 14) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 11:10:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new

ActionView::TemplateError (project_energy_consumption_url failed to generate from {:action=>"show", :controller=>"energy_consumptions"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["projects", :project_id, "energy_consumptions", :id] - are they all satisfied?) on line #1 of app/views/energy_consumptions/new.html.erb:
1: <% form_for @energy_consumption, :url => project_energy_consumption_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :energy_consumption_type %> <%= f.select :energy_consumption_type, EnergyConsumption::TYPE.map {|i| [i[1].name, i[0].to_s]}, {}, :onchange => "updateUnits('energy_consumption');" %>
4:     <%= f.label :amount %> <%= f.text_field :amount %>

    (eval):16:in `project_energy_consumption_path'
    app/views/energy_consumptions/new.html.erb:1

Rendered rescues/_trace (89.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 11:11:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new

ActionView::TemplateError (project_energy_consumption_url failed to generate from {:action=>"show", :controller=>"energy_consumptions"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["projects", :project_id, "energy_consumptions", :id] - are they all satisfied?) on line #1 of app/views/energy_consumptions/new.html.erb:
1: <% form_for @energy_consumption, :url => project_energy_consumption_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :energy_consumption_type %> <%= f.select :energy_consumption_type, EnergyConsumption::TYPE.map {|i| [i[1].name, i[0].to_s]}, {}, :onchange => "updateUnits('energy_consumption');" %>
4:     <%= f.label :amount %> <%= f.text_field :amount %>

    (eval):16:in `project_energy_consumption_path'
    app/views/energy_consumptions/new.html.erb:1

Rendered rescues/_trace (88.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 11:11:17) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (1.8ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new

ActionView::TemplateError (undefined method `energy_consumption_type' for #<EnergyConsumption:0x1036ff758>) on line #3 of app/views/energy_consumptions/new.html.erb:
1: <% form_for @energy_consumption, :url => project_energy_consumptions_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :energy_consumption_type %> <%= f.select :energy_consumption_type, EnergyConsumption::TYPE.map {|i| [i[1].name, i[0].to_s]}, {}, :onchange => "updateUnits('energy_consumption');" %>
4:     <%= f.label :amount %> <%= f.text_field :amount %>
5:     <%= f.select :units, EnergyConsumption::TYPE[EnergyConsumption::TYPE.keys.first].unit_options %>
6:     <%= submit_tag "Create Energy Consumption" %>

    app/views/energy_consumptions/new.html.erb:3
    app/views/energy_consumptions/new.html.erb:1

Rendered rescues/_trace (160.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddEnergyTracking (20091123105445)
  [4;35;1mSQL (1.6ms)[0m   [0mDROP TABLE `energy_consumptions`[0m
  [4;36;1mSQL (13.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091123105445'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mdescribe `commutes`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `commutes`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
Migrating to AddRoles (20091118120729)
Migrating to AddEnergyTracking (20091123105445)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (153.4ms)[0m   [0mCREATE TABLE `energy_consumptions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile_item_id` varchar(255), `energy_consumption_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (134.3ms)[0m   [0;1mCREATE INDEX `index_energy_consumptions_on_project_id` ON `energy_consumptions` (`project_id`)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091123105445')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.9ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `energy_consumptions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 11:12:28) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 105ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 11:13:00) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"My electricity bill", "units"=>"kWh", "amount"=>"150", "energy_consumption_type"=>"electricity"}, "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Create (21.5ms)[0m   [0;1mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('My electricity bill', '2009-11-23 11:13:02', 2, '2009-11-23 11:13:02', '117B469BB4C8', 'electricity')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m

NoMethodError (undefined method `energy_consumption_path' for #<EnergyConsumptionsController:0x1037f0f90>):
  app/controllers/energy_consumptions_controller.rb:20:in `create'

Rendered rescues/_trace (63.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 11:13:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (4.8ms)
Completed in 192ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:13:56) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 4652ms (View: 4596, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:14:29) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2627ms (View: 2567, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 11:14:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (2.5ms)
Completed in 96ms (View: 13, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#show (for 127.0.0.1 at 2009-11-23 11:14:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/energy_consumptions/show.html.erb:
1: <%= @energy_consumption.name %> <%= @energy_consumption.amount %> <%= @energy_consumption.units %>

    app/views/energy_consumptions/show.html.erb:1

Rendered rescues/_trace (153.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#show (for 127.0.0.1 at 2009-11-23 11:14:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 369ms (View: 284, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 11:15:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (2.5ms)
Completed in 96ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:15:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2200ms (View: 2136, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:17:34) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2973ms (View: 2914, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:19:04) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 3936ms (View: 3790, DB: 8) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:19:43) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2897ms (View: 2838, DB: 7) | 200 OK [http://localhost/projects/2]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:26:02) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined local variable or method `commute_type' for #<Project:0x10391e700>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    app/models/project.rb:36:in `total_carbon'
    app/models/project.rb:34:in `each'
    app/models/project.rb:34:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (78.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:26:14) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined local variable or method `commute_type' for #<Project:0x1038953d8>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    app/models/project.rb:36:in `total_carbon'
    app/models/project.rb:34:in `each'
    app/models/project.rb:34:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (79.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:26:29) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 1235ms (View: 1175, DB: 7) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 11:26:35) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (2.4ms)
Completed in 96ms (View: 13, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 11:26:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 181ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 11:26:48) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"My petrol", "units"=>"L", "amount"=>"100", "energy_consumption_type"=>"petrol"}, "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Create (0.3ms)[0m   [0mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('My petrol', '2009-11-23 11:26:50', 2, '2009-11-23 11:26:50', 'FF279F0F3AC2', 'petrol')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2093ms (DB: 10) | 302 Found [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 11:26:50) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Completed in 2476ms (View: 2419, DB: 7) | 200 OK [http://localhost/projects/2]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (89.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddEnergyTracking (20091123105445)
  [4;35;1mSQL (15.0ms)[0m   [0mDROP TABLE `energy_consumptions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091123105445'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (39.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `commutes`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `commutes`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
Migrating to AddRoles (20091118120729)
Migrating to AddEnergyTracking (20091123105445)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (211.5ms)[0m   [0mCREATE TABLE `energy_consumptions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile_item_id` varchar(255), `energy_consumption_type` varchar(255), `carbon_output_cache` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (354.2ms)[0m   [0;1mCREATE INDEX `index_energy_consumptions_on_project_id` ON `energy_consumptions` (`project_id`)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091123105445')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (16.3ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mdescribe `energy_consumptions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `energy_consumptions`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (33.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mProject Columns (36.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mSQL (16.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 12:09:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (34.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
Completed in 284ms (View: 7, DB: 41) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 12:09:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (24.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 153ms (View: 18, DB: 35) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 12:09:21) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"my gas", "units"=>"L", "amount"=>"100", "energy_consumption_type"=>"gas"}, "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Create (21.5ms)[0m   [0;1mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('my gas', '2009-11-23 12:09:23', 2, '2009-11-23 12:09:23', 0.2009, '1C3D8499E325', 'gas')[0m
  [4;35;1mSQL (48.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1973ms (DB: 78) | 302 Found [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 12:09:23) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.commutes) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    app/models/project.rb:44:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (76.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 12:09:50) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    app/models/project.rb:44:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (101.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.3ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 1[0m
  [4;35;1mSQL (36.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 2[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (32.9ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 3[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 4[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 5[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 6[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 8[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 9[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 10[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (12.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 11[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 12[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 13[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 14[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 15[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.2ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 16[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 17[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.3ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 18[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 19[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Destroy (0.3ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 20[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 21[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 12:10:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 198ms (View: 44, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` [0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 12:12:25) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (33.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (18.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.9ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 230ms (View: 7, DB: 61) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 12:12:26) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 104ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 12:12:43) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Tube to work", "commute_type"=>"tube", "units"=>"mi", "amount"=>"5.5"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Tube to work') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('Tube to work', '2009-11-23 12:12:44', 'tube', 2, '2009-11-23 12:12:44', 0.690409, '933AC2805745')[0m
  [4;36;1mSQL (34.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 825ms (DB: 45) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 12:12:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 188ms (View: 46, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (67.6ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (38.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Load (18.0ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mEnergyConsumption Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 13:48:16) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (42.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (undefined local variable or method `project' for #<Project:0x1039400f8>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    app/models/project.rb:31:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (77.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 13:48:50) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Cache miss: project_2_class ({})

ActionView::TemplateError (uninitialized constant AmeeCarbonStore::ClassMethods::TYPE) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    lib/amee_carbon_store.rb:19:in `total_carbon'
    lib/amee_carbon_store.rb:17:in `total_carbon'
    app/models/project.rb:31:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (93.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 13:49:33) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Cache miss: project_2_class ({})

ActionView::TemplateError (undefined method `TYPE' for Class:Class) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    lib/amee_carbon_store.rb:19:in `total_carbon'
    lib/amee_carbon_store.rb:17:in `total_carbon'
    app/models/project.rb:31:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (163.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 13:49:53) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
Cache miss: project_2_class ({})

ActionView::TemplateError (uninitialized constant AmeeCarbonStore::ClassMethods::TYPE) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    lib/amee_carbon_store.rb:19:in `total_carbon'
    lib/amee_carbon_store.rb:17:in `total_carbon'
    app/models/project.rb:31:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (171.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (32.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to AddEnergyTracking (20091123105445)
  [4;35;1mSQL (49.6ms)[0m   [0mDROP TABLE `energy_consumptions`[0m
  [4;36;1mSQL (15.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20091123105445'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `clients`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `clients`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mdescribe `commutes`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `commutes`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateUsers (20091116115931)
Migrating to CreatePasswords (20091116125336)
Migrating to AddProjects (20091116161600)
Migrating to AddClients (20091116162118)
Migrating to AddCommutes (20091116162643)
Migrating to AddRoles (20091118120729)
Migrating to AddEnergyTracking (20091123105445)
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (73.6ms)[0m   [0mCREATE TABLE `energy_consumptions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `project_id` int(11), `name` varchar(255), `amee_profile_item_id` varchar(255), `energy_consumption_type` varchar(255), `carbon_output_cache` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (193.8ms)[0m   [0;1mCREATE INDEX `index_energy_consumptions_on_project_id` ON `energy_consumptions` (`project_id`)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091123105445')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mdescribe `clients`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `clients`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mdescribe `commutes`[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSHOW KEYS FROM `commutes`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `energy_consumptions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `passwords`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `passwords`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `passwords`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `users`[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Destroy (0.3ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 22[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:13:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (22.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
Completed in 251ms (View: 148, DB: 30) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:13:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.8ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 88ms (View: 7, DB: 8) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 14:13:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 129ms (View: 35, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 14:14:08) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"car to work", "commute_type"=>"car", "units"=>"mi", "amount"=>"9.6"}, "controller"=>"commutes"}
  [4;36;1mClient Load (14.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'car to work') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('car to work', '2009-11-23 14:14:10', 'car', 2, '2009-11-23 14:14:10', 3.287697, 'C121716606DA')[0m
  [4;36;1mSQL (43.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2181ms (DB: 66) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:14:11) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (41.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (154.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (117.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (100.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Completed in 599ms (View: 45, DB: 420) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 14:14:26) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (24.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
Completed in 130ms (View: 25, DB: 32) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 14:14:27) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 108ms (View: 18, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 14:14:43) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"petrol engine", "units"=>"L", "amount"=>"25", "energy_consumption_type"=>"petrol"}, "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Create (0.3ms)[0m   [0mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('petrol engine', '2009-11-23 14:14:45', 2, '2009-11-23 14:14:45', 57.5875, '66FE84ED840A', 'petrol')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1561ms (DB: 10) | 302 Found [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:14:45) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 186ms (View: 49, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:27:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (47.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (2.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (3.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (1.8ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.4ms)
Completed in 284ms (View: 104, DB: 69) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 14:27:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"23", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 23 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 619ms (View: 535, DB: 9) | 200 OK [http://localhost/projects/2/commutes/23]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:28:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (1.1ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (18.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (9.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (15.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (16.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (16.9ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (291.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.4ms)
Completed in 509ms (View: 56, DB: 373) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:28:05) [POST]
  Parameters: {"authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q="}

ActionController::MethodNotAllowed (Only get, put, and delete requests are allowed.):
  

Rendered rescues/_trace (50.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:29:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (19.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.8ms)
Completed in 137ms (View: 25, DB: 27) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:29:31) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 108ms (View: 49, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 14:29:35) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"23", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionController::UnknownAction (No action responded to destroy. Actions: create, index, new, and show):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 14:30:52) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"23", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (1.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 23 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Destroy (0.3ms)[0m   [0;1mDELETE FROM `commutes` WHERE `id` = 23[0m
  [4;35;1mSQL (72.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 689ms (DB: 83) | 302 Found [http://localhost/projects/2/commutes/23]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:30:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 184ms (View: 123, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:33:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
Completed in 85ms (View: 6, DB: 8) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 14:33:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 106ms (View: 16, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 14:33:35) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Old Street", "commute_type"=>"tube", "units"=>"mi", "amount"=>"5.5"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Old Street') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('Clapham North -> Old Street', '2009-11-23 14:33:38', 'tube', 2, '2009-11-23 14:33:38', 0.690409, '5BCD5FB24BB2')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 3767ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:33:38) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (6.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 220ms (View: 139, DB: 20) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:33:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.4ms)
Completed in 98ms (View: 16, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#show (for 127.0.0.1 at 2009-11-23 14:33:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"show", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 401ms (View: 313, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:36:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.0ms)
Completed in 104ms (View: 21, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:36:07) [GET]

ActionController::MethodNotAllowed (Only put and delete requests are allowed.):
  

Rendered rescues/_trace (46.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:36:27) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.1ms)
Completed in 195ms (View: 24, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:36:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1322ms (View: 1236, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:37:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1666ms (View: 1580, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:39:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1388ms (View: 1302, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:41:36) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (49.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:41:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (47.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit

ActionView::TemplateError (undefined method `commute_path' for #<ActionView::Base:0x103418738>) on line #1 of app/views/commutes/edit.html.erb:
1: <% form_for @commute do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= @commute.commute_type %><!-- get proper name -->
4:     <%= f.label :amount %> <%= f.text_field :amount %>

    app/views/commutes/edit.html.erb:1

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:42:02) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 571ms (View: 390, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:42:11) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:42:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit

ActionView::TemplateError (undefined method `commute_path' for #<ActionView::Base:0x1036226f0>) on line #1 of app/views/commutes/edit.html.erb:
1: <% form_for @commute, {:url => project_commutes_path}, :method => :put do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= @commute.commute_type %><!-- get proper name -->
4:     <%= f.label :amount %> <%= f.text_field :amount %>

    app/views/commutes/edit.html.erb:1

Rendered rescues/_trace (164.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:43:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (1.1ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 566ms (View: 390, DB: 10) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:45:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (52.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (1.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 712ms (View: 571, DB: 61) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:45:39) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (46.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:45:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 374ms (View: 288, DB: 10) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:45:51) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Old Street", "amount"=>"5.5"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (141.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:46:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (49.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (1.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 416ms (View: 282, DB: 58) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:46:58) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Old Street", "amount"=>"5.5"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (45.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (method_not_allowed)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:48:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (1.7ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 751ms (View: 471, DB: 14) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:48:03) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Old Street", "amount"=>"5.5"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (139.6ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:48:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1395ms (View: 1285, DB: 16) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 14:49:05) [PUT]
  Parameters: {"commit"=>"Update Commute", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}}

ActionController::MethodNotAllowed (Only get and post requests are allowed.):
  

Rendered rescues/_trace (46.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (method_not_allowed)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:49:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 468ms (View: 307, DB: 10) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:50:20) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.6ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 540ms (View: 363, DB: 14) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:50:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1330ms (View: 1234, DB: 11) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:51:26) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1534ms (View: 1449, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:54:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 486ms (View: 400, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 14:54:16) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"24", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (23.8ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Moorgate' AND `commutes`.id <> 24) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

AMEE::UnknownError (An error occurred while talking to AMEE: HTTP response code 400. AMEE Response: {"status":{"description":"Missing request entity","name":"Bad Request","code":400,"uri":"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1"}}):
  amee (2.0.28) lib/amee/connection.rb:188:in `response_ok?'
  amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:114:in `put'
  amee (2.0.28) lib/amee/profile_item.rb:325:in `update'
  lib/amee_carbon_store.rb:83:in `update_amee'
  app/controllers/commutes_controller.rb:52:in `update'

Rendered rescues/_trace (165.9ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 14:56:22) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"24", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Moorgate' AND `commutes`.id <> 24) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Update (26.3ms)[0m   [0;1mUPDATE `commutes` SET `updated_at` = '2009-11-23 14:56:23', `name` = 'Clapham North -> Moorgate' WHERE `id` = 24[0m
  [4;35;1mSQL (49.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 827ms (DB: 85) | 302 Found [http://localhost/projects/2/commutes/24]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:56:23) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 132ms (View: 72, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 14:57:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.0ms)
Completed in 114ms (View: 31, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 14:57:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 590ms (View: 504, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 14:57:35) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"24", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Moorgate' AND `commutes`.id <> 24) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 710ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes/24]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 14:57:36) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 187ms (View: 49, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:05:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (367.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
Completed in 550ms (View: 16, DB: 378) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:05:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
Completed in 97ms (View: 16, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:05:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 888ms (View: 801, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:06:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1376ms (View: 1213, DB: 10) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 15:06:36) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"24", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"5.0"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Moorgate' AND `commutes`.id <> 24) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1704ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes/24]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:06:38) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 185ms (View: 125, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:06:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
Completed in 98ms (View: 16, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:06:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 367ms (View: 284, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 15:06:52) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym) on line #4 of app/views/commutes/new.html.erb:
1: <% form_for @commute, :url => project_commutes_path do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= f.label :commute_type %> <%= f.select :commute_type, Commute::TYPE.map {|i| [i[1].name, i[0].to_s]}, {}, :onchange => "updateUnits('commute');" %>
4:     <%= f.label :amount %> <%= f.text_field :amount %>
5:     <%= f.select :units, Commute::TYPE[Commute::TYPE.keys.first].unit_options %>
6:     <%= submit_tag "Create Commute" %>
7: <% end %>

    app/models/commute.rb:30:in `amee_category'
    lib/amee_carbon_store.rb:48:in `possible_amount_field_names'
    lib/amee_carbon_store.rb:21:in `amount'
    app/views/commutes/new.html.erb:4
    app/views/commutes/new.html.erb:1

Rendered rescues/_trace (88.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 15:09:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 100ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 15:09:28) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"updatable commute", "commute_type"=>"car", "units"=>"mi", "amount"=>"5"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'updatable commute') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('updatable commute', '2009-11-23 15:09:34', 'car', 2, '2009-11-23 15:09:34', 1.712342, '1504F8180E07')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 5397ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:09:34) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 185ms (View: 49, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:09:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.9ms)
Completed in 181ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:09:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"25", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 419ms (View: 330, DB: 10) | 200 OK [http://localhost/projects/2/commutes/25/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 15:09:52) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"25", "commute"=>{"name"=>"updatable commute", "amount"=>"7.5"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'updatable commute' AND `commutes`.id <> 25) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 546ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes/25]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:09:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 116ms (View: 51, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:09:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.6ms)
Completed in 181ms (View: 21, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:09:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"25", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 593ms (View: 430, DB: 9) | 200 OK [http://localhost/projects/2/commutes/25/edit]
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:10:59) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 115ms (View: 53, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:11:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"25", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (4.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 838ms (View: 738, DB: 16) | 200 OK [http://localhost/projects/2/commutes/25/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 15:11:06) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"25", "commute"=>{"name"=>"updatable commute", "amount"=>"9"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.9ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'updatable commute' AND `commutes`.id <> 25) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Update (19.7ms)[0m   [0;1mUPDATE `commutes` SET `updated_at` = '2009-11-23 15:11:07', `carbon_output_cache` = 3.082216 WHERE `id` = 25[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 616ms (DB: 31) | 302 Found [http://localhost/projects/2/commutes/25]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:11:07) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.9ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 111ms (View: 48, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:11:23) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 200ms (View: 55, DB: 13) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 15:30:10) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.9ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (8.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (11.8ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (25.1ms)
Completed in 291ms (View: 105, DB: 30) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 15:30:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 128ms (View: 36, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 15:30:40) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"Electricity Bill", "units"=>"kWh", "amount"=>"275", "energy_consumption_type"=>"electricity"}, "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (3.7ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (4.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m

Timeout::Error (execution expired):
  /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
  /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
  /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
  /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
  /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
  amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
  amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:85:in `post'
  amee (2.0.28) lib/amee/profile_item.rb:264:in `create_without_category'
  amee (2.0.28) lib/amee/profile_item.rb:238:in `create'
  lib/amee_carbon_store.rb:72:in `add_to_amee'
  app/controllers/energy_consumptions_controller.rb:18:in `create'

Rendered rescues/_trace (176.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 15:31:02) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"Electricity Bill", "units"=>"kWh", "amount"=>"275", "energy_consumption_type"=>"electricity"}, "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

Timeout::Error (execution expired):
  /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
  /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
  /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
  /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
  /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
  amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
  amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:67:in `get'
  amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
  lib/amee_carbon_store.rb:66:in `add_to_amee'
  app/controllers/energy_consumptions_controller.rb:18:in `create'

Rendered rescues/_trace (94.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 15:31:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 200ms (View: 18, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 15:31:19) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"Electricity Bill", "units"=>"kWh", "amount"=>"275", "energy_consumption_type"=>"electricity"}, "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

Timeout::Error (execution expired):
  /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
  /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
  /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
  /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
  /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
  /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
  amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
  amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:67:in `get'
  amee (2.0.28) lib/amee/profile_category.rb:497:in `get'
  lib/amee_carbon_store.rb:66:in `add_to_amee'
  app/controllers/energy_consumptions_controller.rb:18:in `create'

Rendered rescues/_trace (93.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 15:31:32) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"Electricity Bill", "units"=>"kWh", "amount"=>"275", "energy_consumption_type"=>"electricity"}, "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Create (1.0ms)[0m   [0;1mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('Electricity Bill', '2009-11-23 15:31:35', 2, '2009-11-23 15:31:35', 148.665, '1352B00D902D', 'electricity')[0m
  [4;35;1mSQL (20.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 3565ms (DB: 30) | 302 Found [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:31:36) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 186ms (View: 48, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 15:31:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.9ms)
Completed in 104ms (View: 22, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-23 15:31:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 103ms (View: 17, DB: 8) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-23 15:32:07) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"North sea gas", "units"=>"L", "amount"=>"125", "energy_consumption_type"=>"gas"}, "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Create (0.3ms)[0m   [0;1mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('North sea gas', '2009-11-23 15:32:14', 2, '2009-11-23 15:32:14', 0.251125, 'DD2DA30D157C', 'gas')[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 7164ms (DB: 10) | 302 Found [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:32:14) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 189ms (View: 50, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 15:32:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.5ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.1ms)
Completed in 186ms (View: 28, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#destroy (for 127.0.0.1 at 2009-11-23 15:32:39) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionController::UnknownAction (No action responded to destroy. Actions: create, index, new, and show):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 15:32:47) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionController::UnknownAction (No action responded to edit. Actions: create, index, new, and show):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:32:52) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 188ms (View: 49, DB: 11) | 200 OK [http://localhost/projects/2/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:32:54) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (86.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.8ms)
Completed in 183ms (View: 102, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:32:58) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 971ms (View: 887, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 15:33:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"25", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (1.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1578ms (View: 1486, DB: 10) | 200 OK [http://localhost/projects/2/commutes/25/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 15:33:16) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"25", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 25 AND (`commutes`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 25[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 316ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes/25]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:33:17) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 203ms (View: 56, DB: 12) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:40:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (34.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (36.9ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (41.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (7.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (3.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.3ms)
Completed in 227ms (View: 16, DB: 134) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 15:40:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (12.8ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (18.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 156ms (View: 20, DB: 39) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 15:40:40) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"t", "commute_type"=>"train", "units"=>"km", "amount"=>"9"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 't') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Create (0.4ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('t', '2009-11-23 15:40:43', 'train', 2, '2009-11-23 15:40:43', 0.5193, '5CCD3F77AF27')[0m
  [4;36;1mSQL (74.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2923ms (DB: 88) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:40:43) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 192ms (View: 48, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:40:44) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (7.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.8ms)
Completed in 191ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 15:40:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 99ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 15:40:50) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"a", "commute_type"=>"train", "units"=>"km", "amount"=>"4"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (8.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (1.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (5.7ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'a') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

AMEE::DuplicateResource (The specified resource already exists. This is most often caused by creating an item that overlaps another in time. AMEE Response: {"status":{"description":"A POST or PUT request was received which would have resulted in a duplicate resource being created.","name":"Bad Request","code":400,"uri":"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1"}}):
  amee (2.0.28) lib/amee/connection.rb:186:in `response_ok?'
  amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:85:in `post'
  amee (2.0.28) lib/amee/profile_item.rb:264:in `create_without_category'
  amee (2.0.28) lib/amee/profile_item.rb:238:in `create'
  lib/amee_carbon_store.rb:72:in `add_to_amee'
  app/controllers/commutes_controller.rb:37:in `create'

Rendered rescues/_trace (170.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:58:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.6ms)
Completed in 330ms (View: 66, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 15:58:27) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"26", "controller"=>"commutes"}
  [4;35;1mClient Load (0.6ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ArgumentError (A copy of AmeeCarbonStore::ClassMethods has been removed from the module tree but is still active!):
  lib/amee_carbon_store.rb:10:in `has_carbon_data_stored_in_amee'
  app/models/commute.rb:5
  app/controllers/commutes_controller.rb:62:in `destroy'

Rendered rescues/_trace (93.9ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-23 15:58:34) [GET]

ActionController::MethodNotAllowed (Only put and delete requests are allowed.):
  

Rendered rescues/_trace (134.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (method_not_allowed)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 15:58:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ArgumentError (A copy of AmeeCarbonStore::ClassMethods has been removed from the module tree but is still active!):
  lib/amee_carbon_store.rb:10:in `has_carbon_data_stored_in_amee'
  app/models/commute.rb:5
  app/controllers/commutes_controller.rb:28:in `index'

Rendered rescues/_trace (159.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 15:58:48) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (A copy of AmeeCarbonStore::ClassMethods has been removed from the module tree but is still active!) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    lib/amee_carbon_store.rb:10:in `has_carbon_data_stored_in_amee'
    app/models/commute.rb:5
    app/models/project.rb:26:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (101.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:01:15) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show

ActionView::TemplateError (A copy of AmeeCarbonStore::ClassMethods has been removed from the module tree but is still active!) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    lib/amee_carbon_store.rb:10:in `has_carbon_data_stored_in_amee'
    app/models/commute.rb:5
    app/models/project.rb:26:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:01:25) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mSQL (23.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m

ActionView::TemplateError (undefined local variable or method `has_carbon_data_stored_in_amee' for #<Class:0x1037e4808>) on line #3 of app/views/projects/show.html.erb:
1: <h1><%= @project.name %></h1>
2: 
3: Total Carbon: <%= @project.total_carbon %> kg/year
4: 
5: <%= link_to("Commutes", project_commutes_path(@project)) %> <%= link_to("Energy Consumptions", project_energy_consumptions_path(@project)) %>

    app/models/commute.rb:5
    app/models/project.rb:26:in `total_carbon'
    app/views/projects/show.html.erb:3

Rendered rescues/_trace (184.0ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:06:44) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (61.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 277ms (View: 156, DB: 71) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:16:58) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.8ms)
Completed in 148ms (View: 60, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 16:16:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 640ms (View: 555, DB: 10) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 16:17:17) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 347ms (View: 183, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 16:20:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1942ms (View: 1781, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 16:22:25) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"24", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 483ms (View: 323, DB: 9) | 200 OK [http://localhost/projects/2/commutes/24/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 16:23:05) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"24", "commute"=>{"name"=>"Clapham North -> Moorgate", "amount"=>"7.0"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Moorgate' AND `commutes`.id <> 24) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Update (0.3ms)[0m   [0mUPDATE `commutes` SET `updated_at` = '2009-11-23 16:23:05', `carbon_output_cache` = 0.878702 WHERE `id` = 24[0m
  [4;36;1mSQL (68.0ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 693ms (DB: 78) | 302 Found [http://localhost/projects/2/commutes/24]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:23:06) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 108ms (View: 48, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:23:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.6ms)
Completed in 108ms (View: 22, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 16:23:17) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"26", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 26 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 507ms (View: 343, DB: 9) | 200 OK [http://localhost/projects/2/commutes/26/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-23 16:23:27) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"26", "commute"=>{"name"=>"London -> Newark", "amount"=>"180"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 26 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'London -> Newark' AND `commutes`.id <> 26) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Update (0.4ms)[0m   [0mUPDATE `commutes` SET `updated_at` = '2009-11-23 16:23:29', `name` = 'London -> Newark', `carbon_output_cache` = 10.386 WHERE `id` = 26[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1259ms (DB: 12) | 302 Found [http://localhost/projects/2/commutes/26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:23:29) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.5ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 191ms (View: 129, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (2.7ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (1.7ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` LIMIT 1[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mCommute Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` LIMIT 1[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` LIMIT 1[0m
  [4;36;1mProject Load (1.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` LIMIT 1[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:33:29) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (24.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (9.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.8ms)
Completed in 129ms (View: 24, DB: 32) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'London -> Newark' AND `commutes`.id <> 26) LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mCommute Load (0.6ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-23 16:37:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"26", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (18.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 26 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (URL doesn't exist on server.) on line #4 of app/views/commutes/edit.html.erb:
1: <% form_for @commute, :url => project_commute_path(@commute.project, @commute), :html => {:method => :put} do |f| %>
2:     <%= f.label :name %> <%= f.text_field :name %>
3:     <%= @commute.amee_category.name %>
4:     <%= f.label :amount %> <%= f.text_field :amount %>
5:     <%= units_name_from_amee_unit(@commute) %>
6:     <%= submit_tag "Update Commute" %>
7: <% end %>

    amee (2.0.28) lib/amee/connection.rb:221:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    lib/amee_carbon_store.rb:68:in `amee_profile_item'
    lib/amee_carbon_store.rb:61:in `amee_profile_item_field'
    lib/amee_carbon_store.rb:29:in `amount'
    app/views/commutes/edit.html.erb:4
    app/views/commutes/edit.html.erb:1

Rendered rescues/_trace (171.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 16:37:37) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"26", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (1.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 26 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.2ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 26[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (81.6ms)[0m   [0mROLLBACK[0m

AMEE::UnknownError (An error occurred while talking to AMEE: HTTP response code 405. AMEE Response: {"status":{"description":"The method specified in the request is not allowed for the resource identified by the request URI","name":"Method Not Allowed","code":405,"uri":"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.6"}}):
  amee (2.0.28) lib/amee/connection.rb:191:in `response_ok?'
  amee (2.0.28) lib/amee/connection.rb:201:in `do_request'
  amee (2.0.28) lib/amee/connection.rb:135:in `delete'
  amee (2.0.28) lib/amee/profile_item.rb:362:in `delete'
  lib/amee_carbon_store.rb:99:in `delete_from_amee'
  app/controllers/commutes_controller.rb:63:in `destroy'

Rendered rescues/_trace (83.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 16:37:56) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"26", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (2.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 26 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 26[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Unable to remove '/profiles/5951E04373AA/transport/train/generic/5CCD3F77AF26' from AMEE
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 311ms (DB: 12) | 302 Found [http://localhost/projects/2/commutes/26]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:37:57) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 108ms (View: 47, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:38:00) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (8.9ms)
Completed in 117ms (View: 22, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-23 16:38:03) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 110ms (View: 23, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-23 16:38:08) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"asd", "commute_type"=>"tube", "units"=>"km", "amount"=>"12"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'asd') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('asd', '2009-11-23 16:38:11', 'tube', 2, '2009-11-23 16:38:11', 0.936, '48904511B550')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2373ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:38:11) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 187ms (View: 49, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:38:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
Completed in 104ms (View: 21, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#destroy (for 127.0.0.1 at 2009-11-23 16:38:20) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"27", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 27 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Destroy (0.3ms)[0m   [0mDELETE FROM `commutes` WHERE `id` = 27[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Unable to remove '/profiles/5951E04373AA/transport/train/generic/5CCD3F77AF26' from AMEE
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 250ms (DB: 10) | 302 Found [http://localhost/projects/2/commutes/27]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:38:21) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 119ms (View: 53, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:38:23) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.2ms)
Completed in 177ms (View: 17, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:41:19) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 221ms (View: 71, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:41:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.3ms)
Completed in 196ms (View: 35, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:41:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.3ms)
Completed in 101ms (View: 17, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:43:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)

ActionView::TemplateError (undefined method `carbon_ouput_cache' for #<Commute:0x1036bc070>) on line #4 of app/views/commutes/index.html.erb:
1: <table>
2: <%= render :partial => "commute", :collection => @commutes %>
3: </table>
4: <p>Total Carbon: <%= @commutes.map{|c| c.carbon_ouput_cache }.sum %></p>
5: <p>Total Commutes: <%= @commutes.size %></p>
6: 
7: <p><%= link_to("Add Commute", new_project_commute_path) %></p>

    app/views/commutes/index.html.erb:4
    app/views/commutes/index.html.erb:4

Rendered rescues/_trace (156.3ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-23 16:43:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
Completed in 195ms (View: 24, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 16:43:47) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 107ms (View: 47, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 16:43:49) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (35.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.0ms)
Completed in 157ms (View: 75, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:43:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"3", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionController::UnknownAction (No action responded to edit. Actions: create, index, new, and show):
  

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:44:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"3", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/energy_consumptions/edit.html.erb:
1: <%= @energy_consumption.name %> <%= @energy_consumption.amount %> <%= @energy_consumption.units %>

    app/views/energy_consumptions/edit.html.erb:1

Rendered rescues/_trace (75.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:45:28) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"3", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 3 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1425ms (View: 1254, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/3/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 16:45:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.1ms)
Completed in 185ms (View: 28, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:45:39) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 2 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (execution expired) on line #1 of app/views/energy_consumptions/edit.html.erb:
1: <%= @energy_consumption.name %> <%= @energy_consumption.amount %> <%= @energy_consumption.units %>

    /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
    /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
    /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
    amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    lib/amee_carbon_store.rb:68:in `amee_profile_item'
    lib/amee_carbon_store.rb:61:in `amee_profile_item_field'
    lib/amee_carbon_store.rb:29:in `amount'
    app/views/energy_consumptions/edit.html.erb:1

Rendered rescues/_trace (88.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:45:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 2 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m

ActionView::TemplateError (execution expired) on line #1 of app/views/energy_consumptions/edit.html.erb:
1: <%= @energy_consumption.name %> <%= @energy_consumption.amount %> <%= @energy_consumption.units %>

    /usr/local/lib/ruby/1.8/timeout.rb:60:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:134:in `rbuf_fill'
    /usr/local/lib/ruby/1.8/net/protocol.rb:116:in `readuntil'
    /usr/local/lib/ruby/1.8/net/protocol.rb:126:in `readline'
    /usr/local/lib/ruby/1.8/net/http.rb:2020:in `read_status_line'
    /usr/local/lib/ruby/1.8/net/http.rb:2009:in `read_new'
    /usr/local/lib/ruby/1.8/net/http.rb:1050:in `request'
    amee (2.0.28) lib/amee/connection.rb:218:in `send_request'
    amee (2.0.28) lib/amee/connection.rb:200:in `do_request'
    amee (2.0.28) lib/amee/connection.rb:67:in `get'
    amee (2.0.28) lib/amee/profile_item.rb:231:in `get'
    lib/amee_carbon_store.rb:68:in `amee_profile_item'
    lib/amee_carbon_store.rb:61:in `amee_profile_item_field'
    lib/amee_carbon_store.rb:29:in `amount'
    app/views/energy_consumptions/edit.html.erb:1

Rendered rescues/_trace (86.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 16:45:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.1ms)
Completed in 209ms (View: 29, DB: 11) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:46:41) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 368ms (View: 209, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:46:56) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"3", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 3 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 289ms (View: 203, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/3/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:46:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 2 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 236ms (View: 150, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:47:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 242ms (View: 158, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:47:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (57.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (35.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 2 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 429ms (View: 142, DB: 112) | 200 OK [http://localhost/projects/2/energy_consumptions/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 16:47:45) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 301ms (View: 141, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions/1/edit]
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.5ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mEnergyConsumption Load (0.5ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (15.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.8ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (17.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-23 17:05:59) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.6ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 1071ms (View: 436, DB: 12) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-23 17:06:08) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
Completed in 136ms (View: 51, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 17:06:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 521ms (View: 333, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/1/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 17:06:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"3", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 3 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 515ms (View: 346, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/3/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 17:08:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"3", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 3 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 784ms (View: 683, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/3/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-23 17:08:25) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 272ms (View: 188, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/1/edit]
  [4;35;1mSQL (153.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 09:09:30) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (420.7ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (227.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (210.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (17.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (26.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (39.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (58.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (18.7ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
Completed in 1249ms (View: 46, DB: 1175) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-24 09:18:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (32.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 306ms (View: 104, DB: 40) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#create (for 127.0.0.1 at 2009-11-24 09:18:43) [POST]
  Parameters: {"commit"=>"Create Energy Consumption", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "energy_consumption"=>{"name"=>"Backup generator", "units"=>"L", "amount"=>"50", "energy_consumption_type"=>"diesel"}, "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (2.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Backup generator') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Create (60.9ms)[0m   [0mINSERT INTO `energy_consumptions` (`name`, `created_at`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`, `energy_consumption_type`) VALUES('Backup generator', '2009-11-24 09:18:45', 2, '2009-11-24 09:18:45', 131.955, '738BAAF1FD4E', 'diesel')[0m
  [4;36;1mSQL (41.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2063ms (DB: 113) | 302 Found [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:18:46) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (19.1ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 212ms (View: 131, DB: 29) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 09:18:48) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
Completed in 118ms (View: 34, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-24 09:18:51) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"4", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (23.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (19.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 4 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 271ms (View: 138, DB: 51) | 200 OK [http://localhost/projects/2/energy_consumptions/4/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:19:14) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 112ms (View: 49, DB: 12) | 200 OK [http://localhost/projects/2/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 09:19:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.0ms)
Completed in 196ms (View: 35, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 09:19:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (19.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
Completed in 116ms (View: 17, DB: 27) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 09:26:14) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
Completed in 97ms (View: 16, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 09:26:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (33.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 167ms (View: 48, DB: 41) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mEnergyConsumption Load (29.6ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mProject Load (22.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mEnergyConsumption Columns (14.9ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.5ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEnergyConsumption Load (12.9ms)[0m   [0;1mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Backup generator' AND `energy_consumptions`.id <> 4) LIMIT 1[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mEnergyConsumption Load (3.1ms)[0m   [0mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.7ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Backup generator' AND `energy_consumptions`.id <> 4) LIMIT 1[0m
  [4;36;1mEnergyConsumption Update (0.3ms)[0m   [0;1mUPDATE `energy_consumptions` SET `updated_at` = '2009-11-24 09:43:11', `carbon_output_cache` = 131.955 WHERE `id` = 4[0m
  [4;35;1mSQL (13.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mEnergyConsumption Load (1.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` ORDER BY energy_consumptions.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:50:14) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (30.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (29.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 260ms (View: 49, DB: 67) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Clapham North -> Moorgate' AND `commutes`.id <> 24) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` [0m
  [4;36;1mEnergyConsumption Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'petrol engine' AND `energy_consumptions`.id <> 1) LIMIT 1[0m
  [4;36;1mEnergyConsumption Update (0.3ms)[0m   [0;1mUPDATE `energy_consumptions` SET `updated_at` = '2009-11-24 09:50:48', `carbon_output_cache` = 57.5875 WHERE `id` = 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Electricity Bill' AND `energy_consumptions`.id <> 2) LIMIT 1[0m
  [4;35;1mEnergyConsumption Update (0.3ms)[0m   [0mUPDATE `energy_consumptions` SET `updated_at` = '2009-11-24 09:50:49', `carbon_output_cache` = 148.665 WHERE `id` = 2[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'North sea gas' AND `energy_consumptions`.id <> 3) LIMIT 1[0m
  [4;36;1mEnergyConsumption Update (0.4ms)[0m   [0;1mUPDATE `energy_consumptions` SET `updated_at` = '2009-11-24 09:50:50', `carbon_output_cache` = 0.251125 WHERE `id` = 3[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEnergyConsumption Load (0.8ms)[0m   [0;1mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Backup generator' AND `energy_consumptions`.id <> 4) LIMIT 1[0m
  [4;35;1mEnergyConsumption Update (0.4ms)[0m   [0mUPDATE `energy_consumptions` SET `updated_at` = '2009-11-24 09:50:50', `carbon_output_cache` = 131.955 WHERE `id` = 4[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:50:59) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 193ms (View: 130, DB: 12) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.5ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'petrol engine' AND `energy_consumptions`.id <> 1) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Electricity Bill' AND `energy_consumptions`.id <> 2) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'North sea gas' AND `energy_consumptions`.id <> 3) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Backup generator' AND `energy_consumptions`.id <> 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 09:58:13) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (20.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.1ms)
Completed in 149ms (View: 43, DB: 29) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-24 09:58:15) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"4", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.0ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 4 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 360ms (View: 273, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions/4/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:58:30) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 112ms (View: 48, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#update (for 127.0.0.1 at 2009-11-24 09:58:34) [PUT]
  Parameters: {"commit"=>"Update Energy Consumption", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"4", "energy_consumption"=>{"name"=>"Backup generator number 1", "amount"=>"75"}, "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 4 AND (`energy_consumptions`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mEnergyConsumption Load (1.6ms)[0m   [0mSELECT `energy_consumptions`.id FROM `energy_consumptions` WHERE (`energy_consumptions`.`name` = BINARY 'Backup generator number 1' AND `energy_consumptions`.id <> 4) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Update (0.4ms)[0m   [0mUPDATE `energy_consumptions` SET `updated_at` = '2009-11-24 09:58:35', `name` = 'Backup generator number 1', `carbon_output_cache` = 197.9325 WHERE `id` = 4[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 580ms (DB: 12) | 302 Found [http://localhost/projects/2/energy_consumptions/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:58:35) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (12.5ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 200ms (View: 50, DB: 23) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 09:59:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;35;1mEnergyConsumption Load (0.5ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.1ms)
Completed in 198ms (View: 113, DB: 11) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#destroy (for 127.0.0.1 at 2009-11-24 09:59:39) [DELETE]
  Parameters: {"project_id"=>"2", "action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"4", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (24.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (1.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 4 AND (`energy_consumptions`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mEnergyConsumption Destroy (0.2ms)[0m   [0;1mDELETE FROM `energy_consumptions` WHERE `id` = 4[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 231ms (DB: 36) | 302 Found [http://localhost/projects/2/energy_consumptions/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 09:59:39) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (23.8ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 137ms (View: 51, DB: 33) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 11:00:24) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 184ms (View: 48, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 11:03:33) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.6ms)
Completed in 236ms (View: 23, DB: 12) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 11:03:34) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (72.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (119.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (22.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (113.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.9ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (107.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (46.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 598ms (View: 24, DB: 485) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 11:04:06) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 101ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 11:04:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 106ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Tue Nov 24 11:14:34 +0000 2009
  Status: 500 Internal Server Error
  Expected /Users/george/work/amee/overbury/app/helpers/energy_consumptions_helper.rb to define EnergyConsumptionsHelper
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/inflector.rb:361:in `constantize'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/inflector.rb:360:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/inflector.rb:360:in `constantize'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:137:in `helper'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:115:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:115:in `helper'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:120:in `helper'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:115:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/helpers.rb:115:in `helper'
    /Users/george/work/amee/overbury/app/controllers/application_controller.rb:8
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
    /usr/local/lib/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
    /usr/local/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 11:14:57) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (19.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 125ms (View: 48, DB: 28) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 11:14:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.4ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (6.4ms)
Completed in 197ms (View: 30, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-24 11:15:01) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 193ms (View: 26, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-24 11:16:16) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 103ms (View: 17, DB: 8) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-24 11:16:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (8.0ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 121ms (View: 23, DB: 16) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-24 11:16:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 105ms (View: 17, DB: 10) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#new (for 127.0.0.1 at 2009-11-24 11:17:05) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Rendering template within layouts/application
Rendering energy_consumptions/new
Completed in 204ms (View: 31, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 11:17:18) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 185ms (View: 48, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 11:17:19) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
Completed in 99ms (View: 16, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 11:17:21) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 119ms (View: 23, DB: 10) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 11:19:31) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 104ms (View: 15, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (30.7ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Load (0.2ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 12:00:53) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Moped to work", "commute_type"=>"motorbike", "units"=>"mi", "amount"=>"21"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (72.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Moped to work') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mSQL (10.7ms)[0m   [0mROLLBACK[0m

NameError (uninitialized constant AmeeCarbonStore::InstanceMethods::DRILLDOWN_CACHE_PREFIX):
  lib/amee_carbon_store.rb:119:in `amee_data_category_uid'
  lib/amee_carbon_store.rb:114:in `create_amee_profile'
  lib/amee_carbon_store.rb:103:in `add_to_amee'
  app/controllers/commutes_controller.rb:39:in `create'

Rendered rescues/_trace (90.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 12:01:24) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Moped to work", "commute_type"=>"motorbike", "units"=>"mi", "amount"=>"21"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Moped to work') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache miss: drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium ({})
Cache write (will save 159.25ms): drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `connection' for #<AmeeCategory:0x10386d7e8>):
  amee (2.0.28) lib/amee/profile_item.rb:238:in `create'
  lib/amee_carbon_store.rb:114:in `create_amee_profile'
  lib/amee_carbon_store.rb:103:in `add_to_amee'
  app/controllers/commutes_controller.rb:39:in `create'

Rendered rescues/_trace (91.1ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 12:03:16) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Moped to work", "commute_type"=>"motorbike", "units"=>"mi", "amount"=>"21"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Moped to work') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache hit: drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium ({})
  [4;35;1mCommute Create (16.1ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('Moped to work', '2009-11-24 12:03:17', 'motorbike', 2, '2009-11-24 12:03:17', 3.48777, '86CF4EE0EFF6')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1287ms (DB: 26) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 12:03:17) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 204ms (View: 141, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 12:03:22) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (22.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.4ms)
Completed in 232ms (View: 71, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-24 12:03:24) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"28", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (33.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 28 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 363ms (View: 164, DB: 41) | 200 OK [http://localhost/projects/2/commutes/28/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 12:04:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.0ms)
Completed in 191ms (View: 23, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
** [Hoptoad] Notifier 2.0.3 ready to catch errors
** [Hoptoad] Notifier 2.0.3 ready to catch errors
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Cache miss: drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium ({})
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache write (will save 375.41ms): drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
Cache hit: drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium ({})
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
Cache hit: drilldown_datatransportmotorcyclegenericdrill?fuel=petrol&size=medium ({})
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 12:12:49) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 130ms (View: 45, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 12:13:04) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Motorbike to work", "commute_type"=>"motorbike", "units"=>"km", "amount"=>"41"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Motorbike to work') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache miss: drilldown_datatransportmotorcyclegenericdrillfuelpetrolsizemedium ({})
Cache write (will save 109.49ms): drilldown_datatransportmotorcyclegenericdrillfuelpetrolsizemedium
  [4;35;1mCommute Create (17.5ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('Motorbike to work', '2009-11-24 12:13:04', 'motorbike', 2, '2009-11-24 12:13:04', 4.2312, '9C42D1BF6DB2')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 769ms (DB: 28) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 12:13:05) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (1.0ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 115ms (View: 50, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 12:13:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.6ms)
Completed in 186ms (View: 27, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` ORDER BY commutes.id DESC LIMIT 1[0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 28) [0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 29) [0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 28) [0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 28) [0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 28) [0m
  [4;36;1mCommute Load (0.7ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 24) [0m
  [4;35;1mCommute Load (0.2ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 28) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-24 15:26:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"29", "controller"=>"commutes"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (30.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 29 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 1469ms (View: 437, DB: 38) | 200 OK [http://localhost/projects/2/commutes/29/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 15:27:03) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.2ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 271ms (View: 183, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 15:27:04) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.6ms)
Completed in 108ms (View: 27, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#index (for 127.0.0.1 at 2009-11-24 15:27:07) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (2.8ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering energy_consumptions/index
  [4;36;1mEnergyConsumption Load (0.5ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (18.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered energy_consumptions/_energy_consumption (5.2ms)
Completed in 291ms (View: 134, DB: 12) | 200 OK [http://localhost/projects/2/energy_consumptions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-24 15:27:09) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"2", "controller"=>"energy_consumptions"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mEnergyConsumption Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 2 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 410ms (View: 325, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/2/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing EnergyConsumptionsController#edit (for 127.0.0.1 at 2009-11-24 15:27:12) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"1", "controller"=>"energy_consumptions"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mEnergyConsumption Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
  [4;35;1mEnergyConsumption Load (0.3ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.`id` = 1 AND (`energy_consumptions`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering energy_consumptions/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 357ms (View: 194, DB: 9) | 200 OK [http://localhost/projects/2/energy_consumptions/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 15:45:38) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (36.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (7.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.9ms)
Completed in 236ms (View: 29, DB: 45) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 15:45:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 128ms (View: 42, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 15:46:06) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"test - should fail", "commute_type"=>"bus", "amount"=>"1324"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.6ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (8.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'test - should fail') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `amount_before_type_cast' for #<Commute:0x103680c78>):
  app/controllers/commutes_controller.rb:18:in `create'

Rendered rescues/_trace (173.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 15:46:36) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 136ms (View: 24, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 15:46:46) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 142ms (View: 53, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 15:50:37) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 101ms (View: 14, DB: 9) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 15:50:44) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"adf", "commute_type"=>"bus", "units"=>"(fetching)", "amount"=>"3412"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'adf') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `amount_before_type_cast' for #<Commute:0x1038587d0>):
  app/controllers/commutes_controller.rb:18:in `create'

Rendered rescues/_trace (93.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 15:51:16) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"adf", "commute_type"=>"bus", "units"=>"(fetching)", "amount"=>"3412"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (1.5ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'adf') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 206ms (View: 105, DB: 12) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 15:57:40) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (39.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 218ms (View: 14, DB: 46) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 15:57:55) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"asdf", "commute_type"=>"bus", "units"=>"(fetching)", "amount"=>"231"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'asdf') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 275ms (View: 105, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 15:58:00) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"asdf", "commute_type"=>"bus", "units"=>"(fetching)", "amount"=>"ee"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'asdf') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 112ms (View: 21, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 15:58:32) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (36.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 145ms (View: 23, DB: 44) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 15:58:49) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"Big train journey", "commute_type"=>"train", "units"=>"mi", "amount"=>"450"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Big train journey') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache miss: drilldown_datatransporttraingenericdrilltypenational ({})
Cache write (will save 119.35ms): drilldown_datatransporttraingenericdrilltypenational
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('Big train journey', '2009-11-24 15:58:51', 'train', 2, '2009-11-24 15:58:51', 41.786617, '8627F8D71663')[0m
  [4;35;1mSQL (59.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1215ms (DB: 68) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 15:58:51) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (20.0ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 210ms (View: 50, DB: 31) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 15:58:53) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.6ms)
Completed in 192ms (View: 32, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-24 15:58:55) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"30", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 30 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 306ms (View: 222, DB: 9) | 200 OK [http://localhost/projects/2/commutes/30/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-24 15:59:00) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"30", "commute"=>{"name"=>"Big train journey", "amount"=>"450.25"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 30 AND (`commutes`.project_id = 2)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'Big train journey' AND `commutes`.id <> 30) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Update (0.3ms)[0m   [0;1mUPDATE `commutes` SET `updated_at` = '2009-11-24 15:59:01', `carbon_output_cache` = 41.809832 WHERE `id` = 30[0m
  [4;35;1mSQL (16.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 533ms (DB: 26) | 302 Found [http://localhost/projects/2/commutes/30]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 15:59:01) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 109ms (View: 48, DB: 11) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 16:48:18) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (5.9ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (42.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.5ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (7.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.4ms)
Completed in 189ms (View: 34, DB: 57) | 200 OK [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 16:58:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (39.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 230ms (View: 16, DB: 48) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 16:59:16) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"pretty commute", "commute_type"=>"train", "units"=>"mi", "amount"=>"120"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'pretty commute' AND `commutes`.project_id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 231ms (View: 57, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 16:59:35) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"pretty commute", "commute_type"=>"train", "units"=>"km", "amount"=>"120"}, "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'pretty commute' AND `commutes`.project_id = 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache hit: drilldown_datatransporttraingenericdrilltypenational ({})
  [4;35;1mClient Load (21.7ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mCommute Create (0.3ms)[0m   [0;1mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('pretty commute', '2009-11-24 16:59:38', 'train', 2, '2009-11-24 16:59:38', 6.924, '5A4DBA0F6C95')[0m
  [4;35;1mSQL (57.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 2956ms (DB: 88) | 302 Found [http://localhost/projects/2/commutes]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 16:59:38) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 109ms (View: 49, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 16:59:57) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.6ms)
Completed in 126ms (View: 37, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-24 16:59:59) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"31", "controller"=>"commutes"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (1.1ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 31 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 322ms (View: 218, DB: 15) | 200 OK [http://localhost/projects/2/commutes/31/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-24 17:00:04) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"31", "commute"=>{"name"=>"horrible commute", "amount"=>"120"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.3ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 31 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (12.0ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'horrible commute' AND `commutes`.project_id = 2 AND `commutes`.id <> 31) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mClient Load (0.7ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mCommute Update (19.0ms)[0m   [0;1mUPDATE `commutes` SET `updated_at` = '2009-11-24 17:00:05', `name` = 'horrible commute' WHERE `id` = 31[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 796ms (DB: 42) | 302 Found [http://localhost/projects/2/commutes/31]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 17:00:05) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (15.4ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 205ms (View: 51, DB: 25) | 200 OK [http://localhost/projects/2]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mClient Columns (53.7ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Create (12.1ms)[0m   [0mINSERT INTO `clients` (`name`, `created_at`, `updated_at`) VALUES('bob', '2009-11-24 17:11:30', '2009-11-24 17:11:30')[0m
  [4;36;1mSQL (65.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` ORDER BY clients.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mClient Destroy (18.7ms)[0m   [0mDELETE FROM `clients` WHERE `id` = 2[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 17:13:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.6ms)
Completed in 277ms (View: 37, DB: 9) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#new (for 127.0.0.1 at 2009-11-24 17:13:45) [GET]
  Parameters: {"project_id"=>"2", "action"=>"new", "controller"=>"commutes"}
  [4;36;1mClient Load (0.5ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (15.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
Rendering template within layouts/application
Rendering commutes/new
Completed in 116ms (View: 15, DB: 23) | 200 OK [http://localhost/projects/2/commutes/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#create (for 127.0.0.1 at 2009-11-24 17:13:58) [POST]
  Parameters: {"commit"=>"Create Commute", "project_id"=>"2", "action"=>"create", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "commute"=>{"name"=>"route 66", "commute_type"=>"bus", "units"=>"km", "amount"=>"1500"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (21.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (215.5ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'route 66' AND `commutes`.project_id = 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Cache miss: drilldown_datatransportbusgenericdrilltypetypical ({})
Cache write (will save 112.95ms): drilldown_datatransportbusgenericdrilltypetypical
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;35;1mCommute Create (0.3ms)[0m   [0mINSERT INTO `commutes` (`name`, `created_at`, `commute_type`, `project_id`, `updated_at`, `carbon_output_cache`, `amee_profile_item_id`) VALUES('route 66', '2009-11-24 17:13:59', 'bus', 2, '2009-11-24 17:13:59', 155.25, 'D399C81B56EB')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 1301ms (DB: 248) | 302 Found [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 17:13:59) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;36;1mClient Load (0.3ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mEnergyConsumption Load (0.3ms)[0m   [0;1mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;35;1mCommute Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mEnergyConsumption Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 111ms (View: 50, DB: 10) | 200 OK [http://localhost/projects/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#index (for 127.0.0.1 at 2009-11-24 17:14:42) [GET]
  Parameters: {"project_id"=>"2", "action"=>"index", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering commutes/index
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;36;1mCommute Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (6.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (5.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendered commutes/_commute (4.7ms)
Completed in 215ms (View: 46, DB: 10) | 200 OK [http://localhost/projects/2/commutes]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#edit (for 127.0.0.1 at 2009-11-24 17:14:43) [GET]
  Parameters: {"project_id"=>"2", "action"=>"edit", "id"=>"32", "controller"=>"commutes"}
  [4;36;1mClient Load (0.4ms)[0m   [0;1mSELECT * FROM `clients` LIMIT 1[0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mClient Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `clients`[0m
  [4;36;1mProject Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `projects`[0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;36;1mProject Load (0.6ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mCommute Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `commutes`[0m
  [4;36;1mCommute Load (0.3ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 32 AND (`commutes`.project_id = 2)) [0m
Rendering template within layouts/application
Rendering commutes/edit
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Completed in 350ms (View: 176, DB: 10) | 200 OK [http://localhost/projects/2/commutes/32/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CommutesController#update (for 127.0.0.1 at 2009-11-24 17:14:47) [PUT]
  Parameters: {"commit"=>"Update Commute", "project_id"=>"2", "action"=>"update", "_method"=>"put", "authenticity_token"=>"xn5QyqU15cvDfy3QiX9ieGLKwPPC7yFKGURrWZHok9Q=", "id"=>"32", "commute"=>{"name"=>"route-66", "amount"=>"1500"}, "controller"=>"commutes"}
  [4;35;1mClient Load (0.4ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;36;1mCommute Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mCommute Load (0.5ms)[0m   [0mSELECT * FROM `commutes` WHERE (`commutes`.`id` = 32 AND (`commutes`.project_id = 2)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCommute Load (0.4ms)[0m   [0mSELECT `commutes`.id FROM `commutes` WHERE (`commutes`.`name` = BINARY 'route-66' AND `commutes`.project_id = 2 AND `commutes`.id <> 32) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
  [4;35;1mClient Load (0.3ms)[0m   [0mSELECT * FROM `clients` WHERE (`clients`.`id` = 1) [0m
  [4;36;1mCommute Update (0.4ms)[0m   [0;1mUPDATE `commutes` SET `updated_at` = '2009-11-24 17:14:48', `name` = 'route-66' WHERE `id` = 32[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/projects/2
Completed in 565ms (DB: 11) | 302 Found [http://localhost/projects/2/commutes/32]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProjectsController#show (for 127.0.0.1 at 2009-11-24 17:14:48) [GET]
  Parameters: {"action"=>"show", "id"=>"2", "controller"=>"projects"}
  [4;35;1mClient Load (0.5ms)[0m   [0mSELECT * FROM `clients` LIMIT 1[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mClient Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `clients`[0m
  [4;35;1mProject Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 2 AND (`projects`.client_id = 1)) [0m
  [4;35;1mRole Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'super_admin') AND (`roles`.user_id = 1) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'company_admin') AND (`roles`.user_id = 1) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`role_type` = 'project_owner') AND (`roles`.user_id = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 2) [0m
Rendering template within layouts/application
Rendering projects/show
  [4;36;1mCommute Load (0.4ms)[0m   [0;1mSELECT * FROM `commutes` WHERE (`commutes`.project_id = 2) [0m
  [4;35;1mEnergyConsumption Load (0.2ms)[0m   [0mSELECT * FROM `energy_consumptions` WHERE (`energy_consumptions`.project_id = 2) [0m
  [4;36;1mCommute Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `commutes`[0m
  [4;35;1mEnergyConsumption Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `energy_consumptions`[0m
Completed in 115ms (View: 51, DB: 13) | 200 OK [http://localhost/projects/2]
